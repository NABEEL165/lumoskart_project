<!DOCTYPE html>
{% load static %}
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lumoskart</title>

    <!-- Favicon -->
    <link rel="shortcut icon" href="{% static 'images/favicon.png' %}" type="image/x-icon">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <!-- Preconnect for Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">

    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: #0f172a;
            color: #e2e8f0;
            overflow-x: hidden;
        }

        .navbar {
            background-color: #1e293b !important;
            padding: 0.75rem 1rem;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .navbar-brand img {
            height: 40px;
            transition: transform 0.3s ease;
        }

        .navbar-brand img:hover {
            transform: scale(1.05);
        }

        .search-container {
            position: relative;
            margin: 0 20px;
        }

        .search-bar {
            background-color: #334155;
            border: none;
            border-radius: 50px;
            padding: 12px 20px;
            padding-left: 45px;
            color: #e2e8f0;
            width: 100%;
            max-width: 500px;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .search-bar:focus {
            background-color: #475569;
            outline: none;
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.3);
            color: #e2e8f0;
        }

        .search-icon {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #94a3b8;
        }

        .nav-link {
            color: #cbd5e1 !important;
            font-weight: 500;
            padding: 0.5rem 1rem !important;
            border-radius: 8px;
            transition: all 0.3s ease;
            margin: 0 2px;
        }

        .nav-link:hover,
        .nav-link.active {
            color: #818cf8 !important;
            background-color: rgba(129, 140, 248, 0.1);
        }

        .btn-signup {
            color: #94a3b8 !important;
            background-color: transparent;
            border: 1px solid #475569;
            border-radius: 8px;
            padding: 0.5rem 1rem;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .btn-signup:hover {
            color: #e2e8f0 !important;
            background-color: #475569;
        }

        .btn-login {
            background-color: black;
            color: blue;
            border: none;
            border-radius: 8px;
            padding: 0.5rem 1.5rem;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .btn-login:hover {
            background-color: #6366f1;
            transform: translateY(-2px);
        }

        .btn-open-app {
            background-color: #10b981;
            color: blue;
            border: none;
            border-radius: 8px;
            padding: 0.5rem 1.5rem;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .btn-open-app:hover {
            background-color: #059669;
            transform: translateY(-2px);
        }

        .main-content-area {
            padding: 2rem 1rem;
            min-height: calc(100vh - 200px);
        }

        .section-title-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding: 0 1rem;
        }

        .section-title-bar h2 {
            font-size: 1.8rem;
            font-weight: 700;
            color: #f1f5f9;
            margin: 0;
        }

        .view-all-btn {
            background-color: transparent;
            color: #818cf8;
            border: 1px solid #818cf8;
            border-radius: 8px;
            padding: 0.5rem 1.5rem;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .view-all-btn:hover {
            background-color: #818cf8;
            color: white;
            transform: translateY(-2px);
        }

        .influencers-section {
            padding: 0 1rem;
        }

        .influencers-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 1.5rem;
            padding: 1rem 0;
        }

        /* Horizontal Scroll for Influencers */
        .influencers-section {
            overflow-x: auto;
            padding: 1rem 0;
            -ms-overflow-style: none;
            /* IE and Edge */
            scrollbar-width: none;
            /* Firefox */
        }

        .influencers-section::-webkit-scrollbar {
            display: none;
            /* Chrome, Safari, Opera */
        }

        .influencers-scroll-container {
            display: flex;
            gap: 1.5rem;
            padding: 1rem 0;
        }

        .influencers-grid.horizontal {
            display: flex;
            flex-wrap: nowrap;
            overflow-x: auto;
            -ms-overflow-style: none;
            scrollbar-width: none;
            gap: 1.5rem;
            padding: 0;
        }

        .influencers-grid.horizontal::-webkit-scrollbar {
            display: none;
        }

        .influencer-card.horizontal {
            flex: 0 0 auto;
            min-width: 180px;
        }

        .influencer-card {
            background-color: #1e293b;
            border-radius: 16px;
            padding: 1.5rem;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
            border: 1px solid #334155;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .influencer-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            background-color: #334155;
        }

        .influencer-img {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            overflow: hidden;
            margin: 0 auto 1rem;
            border: 3px solid #818cf8;
            background-color: #334155;
        }

        .influencer-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .influencer-name {
            font-weight: 600;
            font-size: 1.1rem;
            color: #f1f5f9;
            margin-bottom: 0.5rem;
        }

        .product-count {
            color: #94a3b8;
            font-size: 0.9rem;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 2rem;
            padding: 1rem 0;
        }

        .product-card {
            background-color: #1e293b;
            border-radius: 16px;
            overflow: hidden;
            transition: all 0.3s ease;
            cursor: pointer;
            border: 1px solid #334155;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }

        .product-img-wrapper {
            position: relative;
            height: 300px;
            overflow: hidden;
        }

        .product-img-wrapper img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .product-card:hover .product-img-wrapper img {
            transform: scale(1.05);
        }

        .promoted-badge {
            position: absolute;
            top: 12px;
            left: 12px;
            background: linear-gradient(135deg, #818cf8, #6366f1);
            color: white;
            font-size: 0.75rem;
            font-weight: 700;
            padding: 6px 14px;
            border-radius: 20px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            z-index: 2;
            box-shadow: 0 4px 12px rgba(129, 140, 248, 0.4);
            text-align: center;
        }

        .product-details {
            padding: 1.5rem;
        }

        .product-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: #f1f5f9;
            margin-bottom: 0.5rem;
        }

        .product-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 1rem;
        }

        .product-price {
            font-size: 1.5rem;
            font-weight: 700;
            color: #10b981;
        }

        .heart-btn {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #94a3b8;
            transition: color 0.2s;
        }

        .heart-btn:hover,
        .heart-btn.liked {
            color: #f43f5e;
        }

        .instagram-reels-widget {
            background: #1e293b;
            border-radius: 20px;
            padding: 2rem;
            margin: 3rem 1rem;
            border: 1px solid #334155;
        }

        .reels-header h2 {
            font-size: 1.8rem;
            font-weight: 700;
            color: #f1f5f9;
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .reels-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 1.5rem;
        }

        .reel-widget-card {
            aspect-ratio: 9/16;
            background: #334155;
            cursor: pointer;
            transition: all 0.3s ease;
            border-radius: 12px;
            overflow: hidden;
            position: relative;
        }

        /* New Reel Card Styles based on image */
        .reel-discount-badge {
            position: absolute;
            top: 12px;
            left: 12px;
            background: linear-gradient(135deg, #dc2626, #b91c1c);
            color: white;
            padding: 4px 10px;
            border-radius: 6px;
            font-size: 0.75rem;
            font-weight: 700;
            z-index: 6;
            box-shadow: 0 2px 8px rgba(220, 38, 38, 0.4);
        }

        .reel-views-badge {
            position: absolute;
            top: 12px;
            right: 12px;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(10px);
            color: white;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 0.75rem;
            display: flex;
            align-items: center;
            gap: 5px;
            z-index: 6;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        .reel-product-overlay {
            position: absolute;
            bottom: 50px;
            /* Space for Buy Now button */
            left: 8px;
            right: 8px;
            background: rgba(0, 0, 0, 0.75);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border-radius: 12px;
            padding: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
            z-index: 5;
            border: 1px solid rgba(255, 255, 255, 0.15);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
        }

        .reel-product-thumb {
            width: 45px;
            height: 45px;
            border-radius: 8px;
            object-fit: cover;
            border: 1.5px solid rgba(255, 255, 255, 0.25);
            flex-shrink: 0;
        }

        .reel-product-info {
            flex: 1;
            min-width: 0;
            overflow: hidden;
        }

        .reel-product-name {
            color: white;
            font-size: 0.85rem;
            font-weight: 600;
            margin-bottom: 4px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            line-height: 1.2;
        }

        .reel-product-price-row {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .reel-current-price {
            color: #10b981;
            font-weight: 700;
            font-size: 0.95rem;
        }

        .reel-original-price {
            color: rgba(255, 255, 255, 0.5);
            text-decoration: line-through;
            font-size: 0.75rem;
        }

        .reel-add-to-cart-bar {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 48px;
            background: linear-gradient(135deg, #e11d48, #be123c);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.95rem;
            gap: 6px;
            z-index: 6;
            text-decoration: none;
            transition: all 0.3s ease;
            border: none;
            width: 100%;
            border-bottom-left-radius: 16px;
            border-bottom-right-radius: 16px;
            box-shadow: 0 -2px 10px rgba(225, 29, 72, 0.3);
        }

        .reel-add-to-cart-bar:hover {
            background: linear-gradient(135deg, #be123c, #9f1239);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 -4px 16px rgba(225, 29, 72, 0.5);
        }

        .reel-add-to-cart-bar i {
            font-size: 0.9rem;
        }

        .reel-add-to-cart-bar.disabled {
            background: #4b5563;
            cursor: not-allowed;
            opacity: 0.6;
        }

        .reel-add-to-cart-bar.disabled:hover {
            transform: none;
            box-shadow: none;
        }

        /* Video Shorts Player */
        /* Video Shorts Player - Instagram Reels Style */
        .video-shorts-player {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            z-index: 10000;
            display: none;
            justify-content: center;
            align-items: center;
        }

        .video-shorts-player.active {
            display: flex;
        }

        .video-shorts-content {
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        /* Container for the 9:16 Video */
        .video-shorts-video-container {
            width: 100%;
            height: 100%;
            max-width: 480px;
            position: relative;
            background: #000;
            overflow: hidden;
        }

        @media (min-width: 768px) {
            .video-shorts-video-container {
                border-radius: 12px;
                height: 90vh;
                box-shadow: 0 0 50px rgba(0, 0, 0, 0.5);
            }
        }

        .video-shorts-video {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        /* Close Button - Top Right */
        .video-shorts-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.4);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 20;
            backdrop-filter: blur(5px);
            transition: all 0.2s;
        }

        .video-shorts-close:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.1);
        }

        /* Right Sidebar Actions */
        .video-shorts-actions-sidebar {
            position: absolute;
            right: 15px;
            bottom: 150px;
            display: flex;
            flex-direction: column;
            gap: 20px;
            z-index: 20;
            align-items: center;
        }

        .video-shorts-actions-sidebar .action-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
        }

        .video-shorts-actions-sidebar button {
            background: none;
            border: none;
            color: white;
            font-size: 28px;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: transform 0.2s;
            text-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);
        }

        .video-shorts-actions-sidebar button:hover {
            transform: scale(1.1);
        }

        .video-shorts-actions-sidebar button.liked i {
            color: #ef4444;
            font-weight: 900;
        }

        .video-shorts-actions-sidebar button.liked i.far {
            display: none;
        }

        .video-shorts-actions-sidebar .like-count,
        .video-shorts-actions-sidebar .action-label {
            font-size: 13px;
            font-weight: 500;
            text-shadow: 0 1px 3px rgba(0, 0, 0, 0.8);
        }


        /* Bottom Info Overlay */
        .video-shorts-info-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            padding: 20px;
            padding-bottom: 30px;
            background: linear-gradient(to top, rgba(0, 0, 0, 0.9) 0%, rgba(0, 0, 0, 0.5) 60%, transparent 100%);
            z-index: 15;
            display: flex;
            flex-direction: column;
            gap: 10px;
            align-items: flex-start;
        }

        .influencer-info {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 5px;
        }

        .influencer-avatar-placeholder {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: #4f46e5;
            border: 2px solid white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            color: white;
            font-weight: bold;
        }

        .video-shorts-influencer {
            color: white;
            font-weight: 700;
            font-size: 16px;
            margin: 0;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
        }

        /* Description */
        .video-shorts-description {
            color: rgba(255, 255, 255, 0.9);
            font-size: 14px;
            line-height: 1.4;
            max-width: 85%;
            margin-bottom: 5px;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
        }

        .video-shorts-title {
            display: none;
        }

        /* Products / Pills */
        .video-shorts-products {
            display: flex;
            gap: 8px;
            overflow-x: auto;
            max-width: 100%;
            padding-bottom: 5px;
            margin-top: 5px;
            scrollbar-width: none;
        }

        .video-shorts-products::-webkit-scrollbar {
            display: none;
        }

        .product-tag-pill {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 500;
            white-space: nowrap;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: background 0.2s;
            text-decoration: none;
        }

        .product-tag-pill:hover {
            background: rgba(255, 255, 255, 0.25);
            color: white;
        }

        .product-tag-pill img {
            width: 20px;
            height: 20px;
            border-radius: 4px;
            object-fit: cover;
        }

        /* Progress Bar */
        .video-progress-container {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: rgba(255, 255, 255, 0.2);
            z-index: 25;
        }

        .video-progress-bar {
            height: 100%;
            background: #ff0050;
            width: 0%;
            transition: width 0.1s linear;
        }

        /* Navigation Arrows (Desktop) */
        .nav-arrow {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 100;
            transition: all 0.2s;
            backdrop-filter: blur(5px);
        }

        .nav-arrow:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .nav-arrow.prev-video {
            top: 20px;
            display: none;
        }

        .nav-arrow.next-video {
            bottom: 20px;
            display: none;
        }

        @media (min-width: 768px) {
            .nav-arrow {
                display: flex;
                left: calc(50% + 280px);
            }

            .nav-arrow.prev-video {
                top: 40%;
            }

            .nav-arrow.next-video {
                bottom: 40%;
            }
        }

        .footer {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            border-top: 2px solid #334155;
            padding: 4rem 2rem 2rem;
            margin-top: 4rem;
        }

        .footer-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .footer-column h3 {
            font-size: 1.2rem;
            margin-bottom: 1.5rem;
            color: #e2e8f0;
            position: relative;
            padding-bottom: 0.5rem;
        }

        .footer-column h3::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 50px;
            height: 3px;
            background: linear-gradient(90deg, #818cf8, #6366f1);
            border-radius: 2px;
        }

        .footer-links {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .footer-links li {
            margin-bottom: 0.75rem;
        }

        .footer-links a {
            color: #94a3b8;
            text-decoration: none;
            transition: all 0.3s ease;
            font-size: 0.95rem;
            display: block;
            padding: 0.25rem 0;
        }

        .footer-links a:hover {
            color: #818cf8;
            transform: translateX(5px);
        }

        .social-links {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .social-link {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #334155;
            color: white;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            text-decoration: none;
        }

        .social-link:hover {
            background: #818cf8;
            transform: translateY(-3px);
        }

        .footer-bottom {
            border-top: 1px solid #334155;
            padding-top: 2rem;
            text-align: center;
            color: #94a3b8;
            font-size: 0.9rem;
        }

        .banner-section {
            margin-bottom: 3rem;
        }

        .banner-card {
            background: linear-gradient(135deg, #818cf8 0%, #6366f1 100%);

            border-radius: 16px;
            padding: 3rem 2rem;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 10px 30px rgba(129, 140, 248, 0.3);
        }

        .banner-card {
            background: linear-gradient(135deg, #818cf8 0%, #6366f1 100%);
            border-radius: 16px;
            padding: 3rem 2rem;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 10px 30px rgba(129, 140, 248, 0.3);
        }

        .banner-card h2 {
            font-size: 2rem;
            color: white;
            margin-bottom: 1rem;
        }

        .banner-card p {
            font-size: 1.1rem;
            color: rgba(255, 255, 255, 0.9);
        }

        .whatsapp-widget {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 9999;
        }

        .whatsapp-button {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #25d366, #128c7e);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 20px rgba(37, 211, 102, 0.4);
            cursor: pointer;
            transition: all 0.3s ease;
            animation: whatsappPulse 2s infinite;
            border: none;
            color: white;
            font-size: 1.5rem;
            text-decoration: none;
        }

        .whatsapp-button:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 30px rgba(37, 211, 102, 0.6);
        }

        @keyframes whatsappPulse {
            0% {
                box-shadow: 0 4px 20px rgba(37, 211, 102, 0.4);
            }

            50% {
                box-shadow: 0 4px 30px rgba(37, 211, 102, 0.7);
            }

            100% {
                box-shadow: 0 4px 20px rgba(37, 211, 102, 0.4);
            }
        }

        .empty-state {
            text-align: center;
            padding: 3rem;
            color: #94a3b8;
            font-size: 1.1rem;
        }

        .search-results-feedback {
            background-color: #1e293b;
            border-radius: 12px;
            padding: 1rem;
            margin-bottom: 2rem;
            border-left: 4px solid #818cf8;
        }

        .search-results-feedback p {
            margin: 0;
            color: #e2e8f0;
        }

        @media (max-width: 768px) {
            .navbar {
                padding: 0.8rem 0;
            }

            .section-title-bar {
                flex-direction: column;
                align-items: flex-start;
                gap: 1rem;
            }

            .section-title-bar h2 {
                font-size: 1.5rem;
            }

            .influencers-grid {
                grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
                gap: 1rem;
            }

            .influencer-img {
                width: 100px;
                height: 100px;
            }

            .products-grid {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
                gap: 1.5rem;
            }

            .product-img-wrapper {
                height: 250px;
            }

            .reels-grid {
                gap: 12px;
                padding: 10px 5px;
            }

            .reel-widget-card {
                width: 160px;
            }

            .instagram-reels-widget {
                margin: 2rem 0.5rem;
                padding: 1.5rem;
            }

            .footer {
                padding: 3rem 1rem 1.5rem;
            }

            .footer-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }

            .search-container {
                margin: 0 10px;
            }

            .whatsapp-widget {
                bottom: 20px;
                right: 20px;
            }
        }

        @media (max-width: 576px) {
            .influencers-grid {
                grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            }

            .influencer-img {
                width: 80px;
                height: 80px;
            }

            .influencer-name {
                font-size: 0.95rem;
            }

            .product-count {
                font-size: 0.8rem;
            }

            .products-grid {
                grid-template-columns: 1fr;
            }

            .product-img-wrapper {
                height: 200px;
            }

            .product-title {
                font-size: 1.1rem;
            }

            .product-price {
                font-size: 1.3rem;
            }

            .reels-grid {
                gap: 10px;
                padding: 10px 5px;
            }

            .reel-widget-card {
                width: 140px;
            }

            .navbar-brand img {
                height: 40px;
            }

            .search-bar {
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<style>
    :root {
        --font-primary: 'Universal Serif', sans-serif;
        --font-secondary: "Poppins", sans-serif;
        --color-primary: #00c7f7;
        --text-color: #b3b3b3;
        --heading-color: #e3e3e3;
    }

    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    body {
        font-family: var(--font-secondary);
        font-size: 14px;
        line-height: 1.6;
        background-color: #121212;
        color: var(--text-color);
    }

    a {
        color: var(--color-primary);
        text-decoration: none;
    }

    a:hover {
        text-decoration: none;
    }

    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
        margin-bottom: 1rem;
        font-weight: 600;
    }

    p {
        margin-bottom: 1rem;
    }

    ul {
        list-style: none;
        padding-left: 1rem;
    }

    ul li {
        color: var(--text-color);
    }

    img {
        max-width: 100%;
        height: auto;
        display: block;
    }

    button:focus:not(:focus-visible) {
        box-shadow: none;
    }

    .navbar {
        background-color: #121212;
        padding: 5px 20px;
        position: sticky;
        width: 100%;
        top: 0;
        left: 0;
        z-index: 99;
        height: 70px;
        /* Reduced for better mobile fit */
    }

    .navbar-brand img {
        width: 100%;
        max-width: 180px;
        /* Base size for desktop */
        height: auto;
        transition: transform 0.3s ease;
    }

    .navbar-brand img:hover {
        transform: scale(1.1);
    }

    .search-bar {
        background-color: #1f1f1f;
        border: none;
        border-radius: 20px;
        padding: 8px 15px;
        color: #fff;
        width: 100%;
        max-width: 400px;
        padding-left: 40px;
        font-size: 16px;
        border: 1px solid #1f1f1f;
        box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
        transition: background-color 0.3s ease;
    }

    .search-bar:focus {
        background-color: #3a3a3a;
        outline: none;
        box-shadow: none;
        color: #fff;
        border: 1px solid #fff;
    }

    .search-bar::placeholder {
        color: var(--text-color);
        opacity: 1;
    }

    .search-container {
        position: relative;
        margin: 0 20px;
        width: 100%;
        max-width: 500px;
    }

    .search-icon {
        position: absolute;
        left: 15px;
        top: 50%;
        transform: translateY(-50%);
        color: var(--text-color);
        transition: color 0.3s ease;
    }

    .search-container:focus-within .search-icon {
        color: #fff;
    }

    .nav-link {
        color: var(--text-color) !important;
        font-size: 18px;
        position: relative;
        padding-right: 0 !important;
        padding-left: 0 !important;
        margin: 0 8px;
        font-weight: 600;
        transition: color 0.3s ease;
    }

    .nav-link:hover {
        color: #fff !important;
    }

    .nav-link::after {
        content: '';
        position: absolute;
        width: 0;
        height: 2px;
        background-color: var(--color-primary);
        bottom: -2px;
        left: 0;
        transition: width 0.3s ease;
    }

    .nav-link:hover::after {
        width: 100%;
    }

    .btn-signup,
    .btn-login,
    .btn-open-app {
        font-size: 18px;
        padding: 6px 12px;
        transition: all 0.3s ease;
    }

    .btn-signup {
        color: var(--text-color);
        background-color: transparent;
        border: none;
    }

    .btn-signup:hover {
        color: #fff;
        transform: scale(1.05);
    }

    .btn-login,
    .btn-open-app {
        background-color: #fff;
        color: #000;
        border-radius: 20px;
    }

    .btn-login:hover,
    .btn-open-app:hover {
        background-color: #f0f0f0;
        transform: scale(1.05);
    }

    .btn-search {
        background-color: transparent;
        border: none;
        color: #fff;
        font-size: 16px;
        margin-left: 10px;
        transition: color 0.3s ease;
    }

    .btn-search:hover {
        color: var(--text-color);
    }

    .navbar-toggler {
        border: none;
    }

    .navbar-toggler-icon {
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3E%3Cpath stroke='rgba(255, 255, 255, 0.7)' stroke-width='2' stroke-linecap='round' stroke-miterlimit='10' d='M4 7h22M4 15h22M4 23h22'/%3E%3C/svg%3E");
    }

    .offcanvas {
        background-color: #181818;
        color: #fff;
    }

    .offcanvas-header {
        background-color: #121212;
    }

    .offcanvas-title img {
        width: 100%;
        max-width: 140px;
        /* Adjusted for off-canvas */
        height: auto;
    }

    .offcanvas-body .nav-link {
        font-size: 14px;
        width: fit-content;
    }

    .offcanvas-body .nav-link:hover {
        color: #fff !important;
    }

    /* Layout */
    .layout-wrapper {
        display: flex;
        flex-direction: row;
        min-height: 90vh;
        gap: 0.6rem;
        background: #000000;
        padding: 10px;
        height: 100%;
        max-height: 90vh;
    }

    .sidebar-panel {
        background-color: #121212;
        max-width: 450px;
        padding: 1rem;
        flex-shrink: 0;
        border-radius: 7px;
    }

    .sidebar-title {
        font-size: 1.8rem;
        margin-bottom: 1rem;
        font-weight: bold;
    }

    .sidebar-section {
        background-color: #1c1c1c;
        padding: 1rem;
        border-radius: 10px;
        margin-bottom: 1rem;
    }

    .sidebar-section h6 {
        margin-bottom: 0.5rem;
    }

    .sidebar-section p {
        color: #bbb;
        font-size: 1.3rem;
    }

    .sidebar-section button {
        margin-top: 0.5rem;
        background-color: #fff;
        font-size: 1rem;
        color: #000;
        border: none;
        padding: 1rem;
        border-radius: 20px;
        cursor: pointer;
        font-weight: 500;
    }

    .sidebar-footer {
        font-size: 1rem;
        color: #777;
        margin-top: 3rem;
        padding: 10px;
    }

    .main-content-area {
        flex: 1;
        padding: 2rem;
        background-color: #121212;
        border-radius: 7px;
        max-height: 90vh;
        overflow-y: auto;
    }

    .artist-section {
        padding-bottom: 75px;
    }

    .section-title-bar {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1.5rem;
    }

    .section-title-bar h2 {
        font-size: 2rem;
        color: var(--heading-color);
        margin: 0;
    }

    .section-title-bar a {
        font-size: 1.3rem;
        color: #bbb;
        text-decoration: none;
        font-weight: 500;
    }

    /* Footer Styles */
    .footer {
        background: linear-gradient(135deg, #0e0e0e 0%, #1a1a1a 100%);
        border-top: 2px solid rgba(255, 255, 255, 0.1);
        padding: 60px 24px 30px;
        margin-top: 100px;
    }

    .footer-container {
        max-width: 1400px;
        margin: 0 auto;
    }

    .footer-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 40px;
        margin-bottom: 40px;
    }

    .footer-column h3 {
        font-size: 1.5rem;
        margin-bottom: 20px;
        color: #e0e0e0;
        position: relative;
        padding-bottom: 10px;
    }

    .footer-column h3::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 0;
        width: 50px;
        height: 3px;
        background: linear-gradient(90deg, #9e9e9e, #757575);
        border-radius: 2px;
    }

    .footer-links {
        list-style: none;
        padding: 0;
        margin: 0;
    }

    .footer-links li {
        margin-bottom: 12px;
    }

    .footer-links a {
        color: rgba(255, 255, 255, 0.7);
        text-decoration: none;
        transition: all 0.3s ease;
        font-size: 1rem;
        display: block;
        padding: 5px 0;
    }

    .footer-links a:hover {
        color: #9e9e9e;
        transform: translateX(5px);
    }

    .social-links {
        display: flex;
        gap: 15px;
        margin-top: 20px;
    }

    .social-link {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.1);
        color: white;
        font-size: 1.2rem;
        transition: all 0.3s ease;
        text-decoration: none;
    }

    .social-link:hover {
        background: #9e9e9e;
        transform: translateY(-3px);
    }

    .footer-bottom {
        border-top: 1px solid rgba(255, 255, 255, 0.1);
        padding-top: 30px;
        text-align: center;
        color: rgba(255, 255, 255, 0.6);
        font-size: 0.9rem;
    }

    .influencers-section {
        position: relative;
        width: 100%;
        margin: 0 auto;
        overflow: hidden;
    }

    .influencers-swiper {
        padding: 20px 0;
    }

    .influencers-swiper .swiper-slide {
        display: flex;
        justify-content: center;
    }

    .influencers-swiper .swiper-wrapper {
        padding: 10px 0;
    }

    .swiper-button-next.influencers-next,
    .swiper-button-prev.influencers-prev {
        color: var(--color-primary);
        background: rgba(255, 255, 255, 0.8);
        width: 40px;
        height: 40px;
        border-radius: 50%;
        margin-top: -20px;
    }

    .swiper-button-next.influencers-next:hover,
    .swiper-button-prev.influencers-prev:hover {
        background: white;
    }

    .swiper-pagination.influencers-pagination {
        bottom: 0 !important;
    }

    .swiper-pagination-bullet {
        background: var(--color-primary);
        opacity: 0.5;
    }

    .swiper-pagination-bullet-active {
        opacity: 1;
        background: var(--color-primary);
    }

    .influencers-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
        gap: 20px;
        padding: 1.5rem 0;
    }

    .influencer-card {
        min-width: 160px;
        width: 160px;
        background-color: #1c1c1c;
        border-radius: 8px;
        padding: 15px 10px;
        text-align: center;
        transition: all 0.4s ease-in-out;
        cursor: pointer;
        transform: scale(1) translateY(0px);
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .influencer-card:hover {
        transform: scale(1.03) translateY(-5px);
        background-color: #252525;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
    }

    .influencer-img {
        width: 100px;
        height: 100px;
        border-radius: 50%;
        background-color: #252525;
        margin: 0 auto;
        overflow: hidden;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 12px;
        transition: transform 0.4s ease-in-out;
        border: 3px solid rgba(255, 255, 255, 0.1);
    }

    .influencer-card:hover .influencer-img {
        transform: scale(1.05);
        border-color: var(--color-primary);
    }

    .influencer-img img {
        height: 100%;
        width: 100%;
        object-fit: cover;
        object-position: center;
    }

    .influencer-name,
    .product-title {
        font-weight: 600;
        margin-bottom: 5px;
        font-size: 1rem;
        color: var(--heading-color);
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }

    .product-count,
    .product-brand {
        color: var(--text-color);
        font-size: 0.9rem;
        margin-top: 5px;
    }

    .products-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
        gap: 20px;
        padding: 1.5rem 0;
    }

    .product-card {
        background-color: #1f1f1f;
        border-radius: 7px;
        overflow: hidden;
        transition: all 0.4s ease-in-out;
        cursor: pointer;
        transform: scale(1) translateY(0px);
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    }

    .product-card:hover {
        transform: scale(1.03) translateY(-5px);
        background-color: #252525;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
    }

    .product-img {
        width: 100%;
        background-color: #fff;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .product-img img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .product-details {
        padding: 15px;
    }

    .product-influencer {
        font-size: 0.85rem;
        color: #bbb;
        margin: 8px 0;
        font-style: italic;
        display: block;
    }

    .product-price {
        color: #fff;
        margin-top: 10px;
        font-weight: 700;
    }

    .product-footer {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-top: 15px;
    }

    .add-to-cart {
        background-color: #404040;
        border-radius: 50%;
        width: 35px;
        height: 35px;
        line-height: 30px;
        border: none;
        color: white;
        font-size: 1.2rem;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .add-to-cart:hover {
        background-color: var(--color-primary);
        transform: scale(1.1);
    }

    .swiper-button-prev,
    .swiper-button-next {
        background-color: rgba(51, 51, 51, 0.8);
        border-radius: 50%;
        width: 30px;
        height: 30px;
        color: white;
        transition: all 0.3s ease-in-out;
    }

    .swiper-button-prev:hover,
    .swiper-button-next:hover {
        background-color: rgba(0, 0, 0, 0.8);
        color: var(--heading-color);
        transform: scale(1.1);
    }

    .swiper-button-prev::after,
    .swiper-button-next::after {
        font-size: 1.5rem;
    }

    .swiper-button-prev {
        left: 10px;
    }

    .swiper-button-next {
        right: 10px;
    }

    .empty-state {
        text-align: center;
        padding: 2rem;
        color: #bbb;
    }

    /* ===============================
       ðŸ’¬ WhatsApp Widget
    ================================= */
    .whatsapp-widget {
        position: fixed;
        bottom: 30px;
        right: 30px;
        z-index: 9999;
        transition: all 0.3s ease;
    }

    .whatsapp-button {
        width: 60px;
        height: 60px;
        background: linear-gradient(135deg, #25d366, #128c7e);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 4px 20px rgba(37, 211, 102, 0.4);
        cursor: pointer;
        transition: all 0.3s ease;
        animation: whatsappPulse 2s infinite;
        border: none;
        outline: none;
    }

    .whatsapp-button:hover {
        transform: scale(1.1);
        box-shadow: 0 6px 30px rgba(37, 211, 102, 0.6);
    }

    .whatsapp-button i {
        font-size: 32px;
        color: #fff;
    }

    @keyframes whatsappPulse {
        0% {
            box-shadow: 0 4px 20px rgba(37, 211, 102, 0.4);
        }

        50% {
            box-shadow: 0 4px 30px rgba(37, 211, 102, 0.7);
        }

        100% {
            box-shadow: 0 4px 20px rgba(37, 211, 102, 0.4);
        }
    }

    .whatsapp-tooltip {
        position: absolute;
        right: 75px;
        top: 50%;
        transform: translateY(-50%);
        background: #fff;
        color: #333;
        padding: 10px 15px;
        border-radius: 8px;
        font-size: 14px;
        font-weight: 600;
        white-space: nowrap;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s ease;
    }

    .whatsapp-widget:hover .whatsapp-tooltip {
        opacity: 1;
        visibility: visible;
        right: 80px;
    }

    .whatsapp-tooltip::after {
        content: '';
        position: absolute;
        right: -8px;
        top: 50%;
        transform: translateY(-50%);
        width: 0;
        height: 0;
        border-top: 8px solid transparent;
        border-bottom: 8px solid transparent;
        border-left: 8px solid #fff;
    }

    /* ===============================
       ðŸŽ¥ Vertical Video Player (Shorts-Style)
    ================================= */
    .video-shorts-container {
        position: fixed;
        bottom: 100px;
        right: 20px;
        width: 80px;
        height: 400px;
        z-index: 1000;
        display: flex;
        flex-direction: column;
        gap: 10px;
    }

    /* Video Shorts Section Enhancements */
    .video-shorts-section {
        margin-top: 60px;
        padding: 20px 0;
    }

    .video-shorts-wrapper {
        position: relative;
        background: #1b1b1b;
        border-radius: 30px;
        padding: 30px 20px;
        box-shadow: 0 30px 60px rgba(0, 0, 0, 0.35);
        overflow: hidden;
        border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .video-shorts-wrapper .video-shorts-swiper {
        height: 520px;
    }

    .video-shorts-frame {
        position: relative;
        width: 100%;
        height: 100%;
        border-radius: 28px;
        overflow: hidden;
        background: #000;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
    }

    .video-shorts-video {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .video-shorts-overlay {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        padding: 20px;
        background: linear-gradient(transparent, rgba(0, 0, 0, 0.8));
        color: white;
    }

    .video-shorts-product-info {
        margin-bottom: 15px;
    }

    .video-shorts-product-name {
        font-size: 1.4rem;
        font-weight: 700;
        margin-bottom: 5px;
    }

    .video-shorts-influencer {
        font-size: 1rem;
        color: #ccc;
        margin-bottom: 10px;
    }

    .video-shorts-description {
        color: #e3e3e3;
        font-size: 0.95rem;
        margin-bottom: 12px;
    }

    .video-shorts-products {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        margin-top: 10px;
    }

    .product-tag {
        background: rgba(0, 0, 0, 0.4);
        border: 1px solid rgba(255, 255, 255, 0.15);
        border-radius: 999px;
        padding: 6px 14px;
        font-size: 0.85rem;
        display: inline-flex;
        align-items: center;
        gap: 6px;
    }

    .video-shorts-actions {
        display: flex;
        gap: 15px;
        margin-top: 15px;
    }

    .video-shorts-action-btn {
        background: rgba(255, 255, 255, 0.1);
        border: none;
        color: white;
        padding: 10px 20px;
        border-radius: 30px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        gap: 8px;
        text-decoration: none;
    }

    .video-shorts-action-btn:hover {
        background: rgba(255, 255, 255, 0.2);
        transform: translateY(-2px);
    }

    .video-shorts-pagination {
        position: absolute;
        right: 20px;
        top: 50%;
        transform: translateY(-50%);
        display: flex;
        flex-direction: column;
        gap: 10px;
    }

    .video-shorts-pagination-dot {
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.3);
        transition: all 0.3s ease;
    }

    .video-shorts-pagination-dot.active {
        background: white;
        transform: scale(1.3);
    }

    .video-shorts-section .section-title-bar {
        align-items: flex-start;
    }

    .video-shorts-section .section-subtitle {
        color: #b3b3b3;
        font-size: 0.95rem;
        margin-top: 6px;
    }

    .video-shorts-meta {
        color: #b3b3b3;
        font-size: 0.9rem;
    }

    .video-shorts-empty {
        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
        height: 100%;
        gap: 10px;
        color: #fff;
    }

    .video-shorts-toggle {
        background: linear-gradient(135deg, #25d366, #128c7e);
        border-radius: 50%;
        width: 60px;
        height: 60px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        transition: all 0.3s ease;
        margin: 0 auto;
    }

    .video-shorts-toggle:hover {
        transform: scale(1.1);
        box-shadow: 0 6px 20px rgba(37, 211, 102, 0.5);
    }

    .video-shorts-toggle i {
        font-size: 24px;
        color: white;
    }

    .video-shorts-player {
        position: fixed;
        bottom: 0;
        right: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.9);
        z-index: 2000;
        display: none;
        flex-direction: column;
    }

    .video-shorts-player.active {
        display: flex;
    }

    .video-shorts-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 15px 20px;
        background: rgba(18, 18, 18, 0.9);
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .video-shorts-title {
        color: white;
        font-size: 1.2rem;
        font-weight: 600;
    }

    .video-shorts-close {
        background: none;
        border: none;
        color: white;
        font-size: 1.5rem;
        cursor: pointer;
        width: 40px;
        height: 40px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
        transition: all 0.3s ease;
    }

    .video-shorts-close:hover {
        background: rgba(255, 255, 255, 0.1);
    }

    .video-shorts-content {
        flex: 1;
        display: flex;
        overflow: hidden;
        position: relative;
    }

    .video-shorts-swiper {
        width: 100%;
        height: 100%;
    }

    .video-shorts-slide {
        position: relative;
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .video-shorts-placeholder {
        width: 100%;
        height: 100%;
        background-size: cover;
        background-position: center;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .placeholder-text {
        color: white;
        font-size: 1.5rem;
        font-weight: 600;
        text-align: center;
        background: rgba(0, 0, 0, 0.5);
        padding: 20px;
        border-radius: 10px;
    }

    .video-shorts-overlay {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        padding: 20px;
        background: linear-gradient(transparent, rgba(0, 0, 0, 0.8));
        color: white;
    }

    .video-shorts-product-info {
        margin-bottom: 15px;
    }

    .video-shorts-product-name {
        font-size: 1.4rem;
        font-weight: 700;
        margin-bottom: 5px;
    }

    .video-shorts-product-price {
        font-size: 1.2rem;
        font-weight: 600;
        color: #00c7f7;
        margin-bottom: 5px;
    }

    .video-shorts-product-influencer {
        font-size: 1rem;
        color: #ccc;
        margin-bottom: 15px;
    }

    .video-shorts-actions {
        display: flex;
        gap: 15px;
    }

    .video-shorts-action-btn {
        background: rgba(255, 255, 255, 0.1);
        border: none;
        color: white;
        padding: 10px 20px;
        border-radius: 30px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        gap: 8px;
        text-decoration: none;
    }

    .video-shorts-action-btn:hover {
        background: rgba(255, 255, 255, 0.2);
        transform: translateY(-2px);
    }

    .video-shorts-pagination {
        position: absolute;
        right: 20px;
        top: 50%;
        transform: translateY(-50%);
        display: flex;
        flex-direction: column;
        gap: 10px;
    }

    .video-shorts-pagination-dot {
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.3);
        transition: all 0.3s ease;
    }

    .video-shorts-pagination-dot.active {
        background: white;
        transform: scale(1.3);
    }

    .video-shorts-section {
        margin-top: 60px;
    }

    .video-shorts-section .section-title-bar {
        align-items: flex-start;
    }

    .video-shorts-section .section-subtitle {
        color: #b3b3b3;
        font-size: 0.95rem;
        margin-top: 6px;
    }

    .video-shorts-wrapper {
        position: relative;
        background: #1b1b1b;
        border-radius: 30px;
        padding: 30px 20px;
        box-shadow: 0 30px 60px rgba(0, 0, 0, 0.35);
        overflow: hidden;
    }

    .video-shorts-wrapper .video-shorts-swiper {
        height: 520px;
    }

    .video-shorts-frame {
        position: relative;
        width: 100%;
        height: 100%;
        border-radius: 28px;
        overflow: hidden;
        background: #000;
    }

    .video-shorts-video {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .video-shorts-products {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        margin-top: 10px;
    }

    .product-tag {
        background: rgba(0, 0, 0, 0.4);
        border: 1px solid rgba(255, 255, 255, 0.15);
        border-radius: 999px;
        padding: 6px 14px;
        font-size: 0.85rem;
        display: inline-flex;
        align-items: center;
        gap: 6px;
    }

    .video-shorts-description {
        color: #e3e3e3;
        font-size: 0.95rem;
        margin-bottom: 12px;
    }

    .video-shorts-meta {
        color: #b3b3b3;
        font-size: 0.9rem;
    }

    .video-shorts-empty {
        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
        height: 100%;
        gap: 10px;
        color: #fff;
    }

    /* Mobile Adjustments for WhatsApp Widget */
    @media (max-width: 768px) {
        .whatsapp-widget {
            bottom: 20px;
            right: 20px;
        }

        .whatsapp-button {
            width: 50px;
            height: 50px;
        }

        .whatsapp-button i {
            font-size: 28px;
        }

        .whatsapp-tooltip {
            display: none;
        }

        /* Video Shorts Mobile Adjustments */
        .video-shorts-container {
            bottom: 80px;
            right: 15px;
            width: 60px;
        }

        .video-shorts-toggle {
            width: 50px;
            height: 50px;
        }

        .video-shorts-toggle i {
            font-size: 20px;
        }
    }

    @media (max-width: 576px) {
        .whatsapp-widget {
            bottom: 15px;
            right: 15px;
        }

        .whatsapp-button {
            width: 45px;
            height: 45px;
        }

        .whatsapp-button i {
            font-size: 24px;
        }

        /* Video Shorts Small Mobile Adjustments */
        .video-shorts-container {
            bottom: 70px;
            right: 10px;
            width: 50px;
        }

        .video-shorts-toggle {
            width: 45px;
            height: 45px;
        }

        .video-shorts-toggle i {
            font-size: 18px;
        }

        .video-shorts-product-name {
            font-size: 1.2rem;
        }

        .video-shorts-product-price {
            font-size: 1rem;
        }

        .video-shorts-product-influencer {
            font-size: 0.9rem;
        }

        .video-shorts-action-btn {
            padding: 8px 16px;
            font-size: 0.9rem;
        }
    }

    /* Responsive Styles */
    @media (min-width: 1700px) {
        .layout-wrapper {
            height: 100%;
            max-height: 100%;
        }

        .navbar-brand img {
            max-width: 200px;
            /* Larger logo for wide screens */
        }
    }

    @media (max-width: 1140px) {
        .sidebar-panel {
            max-width: 250px;
        }

        .navbar-brand img {
            max-width: 160px;
        }
    }

    @media (min-width: 992px) {
        .mobile-view {
            display: none !important;
        }

        .desktop-view {
            display: flex !important;
        }
    }

    @media (max-width: 991px) {
        .desktop-view {
            display: none !important;
        }

        .mobile-view {
            display: flex !important;
        }

        .navbar {
            padding: 10px 15px;
            height: auto;
            min-height: 60px;
        }

        .navbar-brand img {
            max-width: 140px;
            /* Adjusted for tablets */
        }

        .btn-open-app {
            font-size: 14px;
            padding: 8px 16px;
        }

        .search-container {
            margin: 0;
        }

        .swiper-button-prev,
        .swiper-button-next {
            width: 30px;
            height: 30px;
        }

        .swiper-button-prev::after,
        .swiper-button-next::after {
            font-size: 1rem;
        }

        .swiper-button-prev {
            left: 2px;
        }

        .swiper-button-next {
            right: 2px;
        }

        .layout-wrapper {
            flex-direction: column;
            max-height: 100%;
            gap: 10px;
        }

        .sidebar-panel {
            order: 2;
            max-width: 100%;
        }

        .main-content-area {
            order: 1;
            padding: 1rem;
            max-height: 100%;
        }

        .influencers-grid {
            grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            gap: 15px;
        }

        .products-grid {
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 15px;
        }

        .product-img img {
            height: 35vh;
        }

        .product-title {
            font-size: 1.4rem;
        }

        .product-influencer {
            font-size: 0.9rem;
        }

        .product-price {
            font-size: 1.5rem;
        }
    }

    @media (max-width: 768px) {
        body {
            font-size: 12px;
        }

        .navbar {
            padding: 8px 10px;
        }

        .navbar-brand img {
            max-width: 120px;
            /* Smaller logo for mobile */
        }

        .section-title-bar h2 {
            font-size: 1.3rem;
        }

        .section-title-bar a {
            font-size: 0.9rem;
        }

        .influencer-card {
            min-width: 120px;
            padding: 15px;
        }

        .influencer-img {
            width: 100px;
            height: 100px;
        }

        .influencer-name {
            font-size: 1rem;
        }

        .product-count {
            font-size: 0.85rem;
        }

        .products-grid {
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 15px;
        }

        .product-img img {
            height: 30vh;
        }

        .add-to-cart {
            width: 40px;
            height: 40px;
        }

        .add-to-cart i {
            font-size: 22px;
        }

        .sidebar-title {
            font-size: 1.4rem;
        }

        .sidebar-section p {
            font-size: 1rem;
        }

        .sidebar-section button {
            font-size: 0.9rem;
            padding: 0.8rem;
        }

        .footer-links li a {
            font-size: 14px;
        }

        .whatsapp-widget {
            bottom: 20px;
            right: 20px;
        }

        .whatsapp-button {
            width: 55px;
            height: 55px;
        }

        .whatsapp-button i {
            font-size: 28px;
        }

        .whatsapp-tooltip {
            display: none;
        }

        .offcanvas-title img {
            max-width: 120px;
            /* Adjusted for mobile off-canvas */
        }
    }

    @media (max-width: 480px) {
        .navbar-brand img {
            max-width: 100px;
            /* Smallest size for very small screens */
        }

        .btn-open-app {
            font-size: 12px;
            padding: 6px 12px;
        }

        .influencers-grid {
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 10px;
        }

        .influencer-card {
            padding: 10px;
        }

        .influencer-img {
            width: 80px;
            height: 80px;
        }

        .influencer-name {
            font-size: 0.9rem;
        }

        .product-count {
            font-size: 0.75rem;
        }

        .products-grid {
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 10px;
        }

        .product-img img {
            height: 25vh;
        }

        .product-details {
            padding: 10px;
        }

        .product-title {
            font-size: 1.1rem;
        }

        .product-influencer {
            font-size: 0.75rem;
        }

        .product-price {
            font-size: 1.2rem;
        }

        .add-to-cart {
            width: 35px;
            height: 35px;
        }

        .add-to-cart i {
            font-size: 18px;
        }

        .section-title-bar h2 {
            font-size: 1.1rem;
        }

        .section-title-bar a {
            font-size: 0.8rem;
        }

        .offcanvas-title img {
            max-width: 100px;
        }

        /* Footer Mobile */
        .footer {
            padding: 40px 16px 20px;
            margin-top: 60px;
        }

        .footer-grid {
            gap: 30px;
        }

        .footer-column h3 {
            font-size: 1.3rem;
        }

        .footer-links a {
            font-size: 0.9rem;
        }

        .social-links {
            gap: 12px;
        }

        .social-link {
            width: 35px;
            height: 35px;
            font-size: 1rem;
        }

        .footer-bottom {
            padding-top: 20px;
            font-size: 0.8rem;
        }
    }

    /* Swiper Adjustments */
    .influencers-swiper .swiper-slide {
        padding: 0 5px;
    }

    .products-swiper .swiper-slide {
        padding: 0 5px;
    }

    /* Scrollbar */
    ::-webkit-scrollbar {
        width: 10px;
        background-color: #363636;
    }

    ::-webkit-scrollbar-thumb {
        background-color: #121212;
        border-radius: 7px;
        border: 7px solid #333333;
    }

    ::-webkit-scrollbar-track {
        background-color: #272727;
        border-radius: 7px;
    }

    /* Modern Button Effects */
    .btn-signup,
    .btn-login,
    .btn-open-app,
    .view-all-btn {
        position: relative;
        overflow: hidden;
    }

    .btn-signup::before,
    .btn-login::befor,
    .btn-open-app::before,
    .view-all-btn::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
        transition: 0.5s;
    }

    .btn-signup:hover::before,
    .btn-login:hover::before,
    .btn-open-app:hover::before,
    .view-all-btn:hover::before {
        left: 100%;
    }

    .view-all-btn {
        background: transparent;
        border: 1px solid var(--color-primary);
        color: var(--color-primary);
        border-radius: 20px;
        padding: 8px 20px;
        font-weight: 600;
        transition: all 0.3s ease;
    }

    .view-all-btn:hover {
        background: var(--color-primary);
        color: #000;
        transform: translateY(-2px);
        box-shadow: 0 4px 15px rgba(0, 199, 247, 0.4);
    }

    /* Section Title Enhancements */
    .section-title-bar h2 {
        position: relative;
        display: inline-block;
        padding-bottom: 15px;
    }

    .section-title-bar h2::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 0;
        width: 70px;
        height: 4px;
        background: linear-gradient(90deg, var(--color-primary), #00a8d6);
        border-radius: 2px;
    }

    /* Navigation Link Hover Effect */
    .navbar-nav .nav-link:hover {
        color: #00a8d6 !important;
    }

    /* Admin Dashboard Button */
    .btn-admin {
        background-color: #dc3545;
        /* Red color for admin */
        color: white;
        border: none;
        padding: 8px 16px;
        border-radius: 4px;
        font-weight: 500;
        transition: background-color 0.3s ease;
    }

    .btn-admin:hover {
        background-color: #c82333;
        /* Darker red on hover */
        color: white;
    }

    /* Banner Styles */
    .banner-section {
        margin-bottom: 30px;
    }

    .banner-card {
        background: linear-gradient(135deg, #1f1f1f 0%, #252525 100%);
        border-radius: 16px;
        padding: 40px 20px;
        text-align: center;
        border: 1px solid #333;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
    }

    .banner-card h2 {
        font-size: 1.8rem;
        color: #fff;
        margin-bottom: 10px;
    }

    .banner-card p {
        font-size: 1rem;
        color: #bbb;
    }

    /* Category A/B Pills */
    .categories-scroll-section {
        margin-bottom: 30px;
    }

    .categories-scroll {
        display: flex;
        gap: 12px;
        overflow-x: auto;
        padding-bottom: 5px;
        scrollbar-width: none;
    }

    .categories-scroll::-webkit-scrollbar {
        display: none;
    }

    .category-pill {
        padding: 8px 20px;
        background-color: #1f1f1f;
        border: 1px solid #333;
        border-radius: 20px;
        color: #ccc;
        white-space: nowrap;
        font-size: 0.95rem;
        transition: all 0.3s ease;
    }

    .category-pill:hover,
    .category-pill.active {
        background-color: var(--color-primary);
        color: #000;
        border-color: var(--color-primary);
    }


    .instagram-reels-widget {
        background: #000;
        border-radius: 20px;
        padding: 30px 20px;
        margin: 40px 10px;
    }

    /* Video Shorts Section Improvements */
    .video-shorts-section {
        position: relative;
        padding: 20px 0;
    }

    .video-shorts-section .section-header {
        margin-bottom: 25px;
        padding: 0 10px;
    }

    .video-shorts-section .section-title {
        font-size: 2rem;
        font-weight: 700;
        color: #e3e3e3;
        margin-bottom: 8px;
    }

    .video-shorts-section .section-description {
        color: #b3b3b3;
        font-size: 1rem;
        margin: 0;
    }

    /* Horizontal Scrolling Container */
    .reels-grid {
        display: flex;
        gap: 16px;
        padding: 15px 10px;
        overflow-x: auto;
        overflow-y: hidden;
        scroll-behavior: smooth;
        -webkit-overflow-scrolling: touch;
        scrollbar-width: thin;
        scrollbar-color: #333 #111;
    }

    /* Custom Scrollbar for Reels Grid */
    .reels-grid::-webkit-scrollbar {
        height: 8px;
    }

    .reels-grid::-webkit-scrollbar-track {
        background: #111;
        border-radius: 10px;
        margin: 0 10px;
    }

    .reels-grid::-webkit-scrollbar-thumb {
        background: #333;
        border-radius: 10px;
        transition: background 0.3s ease;
    }

    .reels-grid::-webkit-scrollbar-thumb:hover {
        background: #555;
    }

    /* Reel Card Improvements */
    .reel-widget-card {
        position: relative;
        flex: 0 0 auto;
        width: 200px;
        aspect-ratio: 9/16;
        background: #1a1a1a;
        border-radius: 16px;
        overflow: hidden;
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    }

    .reel-widget-card:hover {
        transform: translateY(-8px) scale(1.02);
        box-shadow: 0 12px 24px rgba(0, 0, 0, 0.5);
        z-index: 10;
    }

    .reel-widget-card video {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 16px;
    }

    .play-icon-overlay {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: rgba(0, 0, 0, 0.5);
        border-radius: 50%;
        width: 60px;
        height: 60px;
        display: flex;
        align-items: center;
        justify-content: center;
        backdrop-filter: blur(10px);
    }

    .reel-overlay-gradient {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        height: 120px;
        background: linear-gradient(transparent, rgba(0, 0, 0, 0.8));
        pointer-events: none;
    }

    .reel-video-info {
        position: absolute;
        bottom: 120px;
        /* Position above the product overlay */
        left: 0;
        right: 0;
        z-index: 2;
        padding: 15px;
        color: white;
    }

    .reel-video-title {
        color: white;
        font-weight: 600;
        margin: 0 0 5px 0;
        font-size: 0.9rem;
        overflow: hidden;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
    }

    .reel-video-influencer {
        color: #ddd;
        font-size: 0.8rem;
        margin: 0;
    }

    .reel-video-description {
        color: #bbb;
        font-size: 0.7rem;
        margin: 3px 0 0 0;
        line-height: 1.2;
    }

    .reel-info-overlay {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        z-index: 2;
    }

    .reel-action-buttons {
        position: absolute;
        top: 10px;
        right: 10px;
        z-index: 3;
        background: rgba(0, 0, 0, 0.5);
        border-radius: 20px;
        padding: 8px;
    }

    .reel-action-buttons .btn {
        background: rgba(255, 255, 255, 0.9);
        border: none;
        color: #333;
        width: 36px;
        height: 36px;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 0;
        margin: 0 2px;
    }

    .reel-action-buttons .btn:hover {
        background: white;
        transform: scale(1.1);
    }

    .reel-action-buttons .btn i {
        font-size: 14px;
    }

    .artist-section {
        padding: 20px 0;
    }

    .section-title-bar {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 24px;
    }

    .section-title-bar h2 {
        font-size: 28px;
        font-weight: bold;
    }

    .view-all-btn {
        color: #007bff;
        text-decoration: none;
        font-weight: 600;
    }

    .products-grid-container {
        overflow-x: auto;
        /* Allows horizontal scroll on very small screens if needed */
    }

    .products-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
        gap: 24px;
        padding: 0 10px;
    }

    .product-card {
        background: #fff;
        border-radius: 4px;
        overflow: hidden;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        display: flex;
        flex-direction: column;
        transition: transform 0.2s ease;
        aspect-ratio: 9/16;
    }

    .product-card:hover {
        transform: scale(1.02);
    }

    .product-img-wrapper {
        position: relative;
        height: 100%;
        /* Tall image like reels */
        overflow: hidden;
        display: flex;
        align-items: center;
        justify-content: center;
        background: #f5f5f5;
        padding: 8px;
    }

    .product-img-wrapper img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block;
        border-radius: 4px;
    }

    .promoted-badge {
        position: absolute;
        top: 12px;
        left: 12px;
        background: rgba(0, 0, 0, 0.7);
        color: #fff;
        font-size: 12px;
        font-weight: bold;
        padding: 6px 12px;
        border-radius: 30px;
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }

    .product-details {
        padding: 8px;
        display: flex;
        flex-direction: column;
        flex-grow: 1;
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        background: linear-gradient(transparent, rgba(0, 0, 0, 0.8));
        color: white;
    }

    .product-title {
        font-size: 14px;
        font-weight: 500;
        color: white;
        margin-bottom: 4px;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }

    .rating .star {
        font-size: 14px;
        color: #ddd;
    }

    .rating .star.filled {
        color: #ffc107;
    }

    .product-footer {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-top: 4px;
    }

    .product-price {
        font-size: 16px;
        font-weight: 600;
        color: #fff;
    }

    .heart-btn {
        background: none;
        border: none;
        font-size: 18px;
        cursor: pointer;
        color: #ccc;
        transition: color 0.2s;
    }

    .heart-btn:hover,
    .heart-btn.liked {
        color: #e91e63;
    }

    /* Category Section Styles */
    .category-section {
        margin-bottom: 50px;
        padding: 30px 0;
        border-bottom: 1px solid #2a2a2a;
    }

    .category-section:last-of-type {
        border-bottom: none;
    }

    .category-description {
        color: #b3b3b3;
        font-size: 0.95rem;
        margin-top: 5px;
        margin-bottom: 0;
    }

    /* Category Badge */
    .category-badge {
        position: absolute;
        top: 12px;
        right: 12px;
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
        font-size: 11px;
        font-weight: 700;
        padding: 5px 12px;
        border-radius: 20px;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        z-index: 3;
        box-shadow: 0 2px 8px rgba(102, 126, 234, 0.4);
    }

    /* Categories Grid Styles */
    .categories-grid {
        display: flex;
        gap: 20px;
        padding: 15px 0;
        overflow-x: auto;
        scroll-behavior: smooth;
        -webkit-overflow-scrolling: touch;
        scrollbar-width: thin;
        scrollbar-color: #333 #111;
        margin-bottom: 30px;
    }

    /* Custom Scrollbar for Categories Grid */
    .categories-grid::-webkit-scrollbar {
        height: 8px;
    }

    .categories-grid::-webkit-scrollbar-track {
        background: #111;
        border-radius: 10px;
    }

    .categories-grid::-webkit-scrollbar-thumb {
        background: #333;
        border-radius: 10px;
        transition: background 0.3s ease;
    }

    .categories-grid::-webkit-scrollbar-thumb:hover {
        background: #555;
    }

    .category-card {
        flex: 0 0 auto;
        width: 150px;
        text-align: center;
        background: #1f1f1f;
        border-radius: 12px;
        overflow: hidden;
        transition: all 0.3s ease;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        border: 1px solid #333;
    }

    .category-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
        background: #252525;
    }

    .category-link {
        display: block;
        text-decoration: none;
        color: inherit;
    }

    .category-img {
        width: 100%;
        height: 150px;
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
    }

    .category-image {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.3s ease;
    }

    .category-card:hover .category-image {
        transform: scale(1.05);
    }

    .category-name {
        padding: 12px;
        font-weight: 600;
        color: #e3e3e3;
        font-size: 0.9rem;
    }

    /* Responsive adjustments for categories grid */
    @media (max-width: 768px) {
        .categories-grid {
            gap: 15px;
        }

        .category-card {
            width: 130px;
        }

        .category-img {
            height: 130px;
        }
    }

    @media (max-width: 576px) {
        .categories-grid {
            gap: 12px;
            padding: 10px 5px;
        }

        .category-card {
            width: 120px;
        }

        .category-img {
            height: 120px;
        }

        .category-name {
            font-size: 0.8rem;
            padding: 8px;
        }
    }

    /* Marquee Animation for Categories */
    .categories-grid.marquee {
        display: flex;
        width: 100%;
        animation: marquee-scroll 20s linear infinite;
    }

    .categories-grid.marquee:hover {
        animation-play-state: paused;
    }

    @keyframes marquee-scroll {
        0% {
            transform: translateX(0);
        }

        100% {
            transform: translateX(-100%);
        }
    }

    /* Individual card marquee animation */
    .categories-grid {
        display: flex;
        width: max-content;
        animation: grid-marquee 20s linear infinite;
    }

    .categories-grid:hover {
        animation-play-state: paused;
    }

    @keyframes grid-marquee {
        0% {
            transform: translateX(100%);
        }

        100% {
            transform: translateX(-100%);
        }
    }

    /* Adjust container for marquee effect */
    .categories-container {
        position: relative;
        overflow: hidden;
        width: 100%;
        padding: 15px 0;
        white-space: nowrap;
    }

    /* Individual category card styling */
    .category-card {
        flex: 0 0 auto;
        width: 150px;
        text-align: center;
        background: #1f1f1f;
        border-radius: 12px;
        overflow: hidden;
        transition: all 0.3s ease;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        border: 1px solid #333;
        margin-right: 20px;
    }

    /* Product Description */
    .product-description {
        color: rgba(255, 255, 255, 0.85);
        font-size: 0.85rem;
        line-height: 1.4;
        margin: 8px 0;
        overflow: hidden;
        text-overflow: ellipsis;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        line-clamp: 2;
        -webkit-box-orient: vertical;
    }

    /* Size Information */
    .product-size-info {
        display: flex;
        align-items: center;
        gap: 6px;
        color: rgba(255, 255, 255, 0.9);
        font-size: 0.85rem;
        margin: 6px 0;
        padding: 4px 8px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 6px;
        width: fit-content;
    }

    .product-size-info i {
        font-size: 0.9rem;
        color: #10b981;
    }

    /* Enhanced Rating Display */
    .rating {
        display: flex;
        align-items: center;
        gap: 4px;
        margin: 6px 0;
    }

    .rating-count {
        color: rgba(255, 255, 255, 0.7);
        font-size: 0.8rem;
        margin-left: 4px;
    }

    /* Enhanced Price Section */
    .price-section {
        display: flex;
        align-items: center;
        gap: 8px;
        flex-wrap: wrap;
    }

    .original-price {
        color: rgba(255, 255, 255, 0.5);
        font-size: 0.85rem;
        text-decoration: line-through;
    }

    .discount-badge {
        background: #10b981;
        color: white;
        font-size: 0.75rem;
        font-weight: 700;
        padding: 2px 6px;
        border-radius: 4px;
    }

    /* Improved Product Footer */
    .product-footer {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-top: 8px;
        padding-top: 8px;
        border-top: 1px solid rgba(255, 255, 255, 0.1);
    }

    /* Responsive adjustments */
    @media (max-width: 992px) {
        .products-grid {
            grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
        }

        .product-img-wrapper {
            height: 320px;
        }
    }

    @media (max-width: 576px) {
        .products-grid {
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            padding: 10px;
        }

        .product-img-wrapper {
            height: 200px;
        }

        .product-title {
            font-size: 14px;
        }

        .product-price {
            font-size: 16px;
        }

        /* Mobile Navbar Styles */
        .navbar {
            padding: 0.5rem 1rem;
        }

        .navbar-brand img {
            height: 35px;
        }

        .search-container {
            margin: 0 10px;
            flex: 1;
            max-width: none;
        }

        .search-bar {
            max-width: none;
            font-size: 14px;
            padding: 10px 15px;
            padding-left: 40px;
        }

        .nav-item {
            margin: 0 5px;
        }

        .nav-link {
            padding: 0.5rem 0.75rem !important;
            font-size: 14px;
        }

        .btn-login,
        .btn-signup,
        .btn-open-app {
            padding: 0.4rem 1rem;
            font-size: 14px;
        }
    }

    a {
        color: var(--color-primary);
        /* This is #00c7f7 (blue) */
        text-decoration: none;
    }

    /* Language Translation Styles */
    .nav-text,
    .btn-text {
        display: inline;
    }

    /* Instagram-style Video Player */
    .video-shorts-player {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: #000;
        z-index: 10000;
        display: none;
        flex-direction: column;
    }

    .video-shorts-player.active {
        display: flex;
    }

    .video-shorts-content {
        flex: 1;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
    }

    .video-shorts-video-container {
        width: 100%;
        height: 100%;
        position: relative;
    }

    .video-shorts-video {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .video-shorts-overlay {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        padding: 20px;
        background: linear-gradient(transparent, rgba(0, 0, 0, 0.8));
        color: white;
    }

    .video-shorts-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
    }

    .video-shorts-close {
        background: none;
        border: none;
        color: white;
        font-size: 24px;
        cursor: pointer;
    }

    .video-shorts-products {
        margin: 10px 0;
    }

    .video-shorts-product-item {
        display: flex;
        align-items: center;
        margin-bottom: 10px;
        padding: 10px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 8px;
    }

    .video-shorts-product-thumb {
        width: 60px;
        height: 60px;
        object-fit: cover;
        border-radius: 8px;
        margin-right: 10px;
    }

    .video-shorts-product-details {
        flex: 1;
    }

    .video-shorts-actions {
        display: flex;
        gap: 20px;
        margin-top: 20px;
    }

    .video-shorts-action-btn {
        display: flex;
        flex-direction: column;
        align-items: center;
        color: white;
        text-decoration: none;
    }

    .video-shorts-action-btn i {
        font-size: 24px;
        margin-bottom: 5px;
    }

    .video-shorts-pagination {
        position: absolute;
        top: 20px;
        right: 20px;
        display: flex;
        flex-direction: column;
        gap: 10px;
    }

    .video-shorts-pagination-dot {
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.5);
    }

    .video-shorts-pagination-dot.active {
        background: white;
    }

    /* Mobile responsive */
    @media (max-width: 768px) {
        .video-shorts-overlay {
            padding: 15px;
        }

        .video-shorts-actions {
            gap: 15px;
        }

        .video-shorts-action-btn i {
            font-size: 20px;
        }
    }

    /* Video Shorts Products List */
    .video-shorts-products-list {
        display: flex;
        flex-direction: column;
        gap: 10px;
    }

    .video-shorts-product-item {
        display: flex;
        align-items: center;
        margin-bottom: 10px;
        padding: 10px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 8px;
    }

    .video-shorts-product-thumb {
        width: 60px;
        height: 60px;
        object-fit: cover;
        border-radius: 8px;
        margin-right: 10px;
    }

    .video-shorts-product-details {
        flex: 1;
    }

    .video-shorts-product-details h4 {
        margin: 0 0 5px 0;
        font-size: 1rem;
        color: white;
    }

    .video-shorts-product-details p {
        margin: 0;
        font-size: 0.9rem;
        color: #ccc;
    }

    /* Video Shorts Player Like Button */
    .video-shorts-like.liked {
        color: #ff2d55;
    }

    .video-shorts-like.liked i {
        color: #ff2d55;
        fill: #ff2d55;
    }

    /* Amazon Style Grid Section - Added */
    .amazon-home-grid {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 20px;
        padding: 20px 0;
        max-width: 100%;
        margin: 0 auto;
    }

    .amazon-card {
        background-color: #1e293b;
        padding: 20px;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        height: 420px;
        z-index: 1;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        overflow: hidden;
        border: 1px solid #334155;
        border-radius: 4px;
        position: relative;
    }

    .amazon-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        z-index: 2;
    }

    .amazon-card-title {
        font-size: 1.3rem;
        font-weight: 700;
        margin-bottom: 20px;
        color: #f1f5f9;
        line-height: 1.3;
    }

    .amazon-quad-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 15px;
        flex-grow: 1;
        margin-bottom: 10px;
    }

    .amazon-quad-item {
        display: flex;
        flex-direction: column;
        text-decoration: none;
        cursor: pointer;
    }

    .amazon-quad-img-wrapper {
        width: 100%;
        aspect-ratio: 1/1;
        margin-bottom: 5px;
        overflow: hidden;
    }

    .amazon-quad-img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .amazon-quad-label {
        font-size: 0.8rem;
        color: #cbd5e1;
        line-height: 1.2;
    }

    .amazon-single-item {
        flex-grow: 1;
        margin-bottom: 10px;
        overflow: hidden;
        text-decoration: none;
        cursor: pointer;
    }

    .amazon-single-img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .amazon-card-link {
        color: #38bdf8;
        text-decoration: none;
        font-size: 0.9rem;
        font-weight: 500;
        margin-top: auto;
    }

    .amazon-card-link:hover {
        text-decoration: underline;
        color: #0ea5e9;
    }

    @media (max-width: 1200px) {
        .amazon-home-grid {
            grid-template-columns: repeat(3, 1fr);
        }
    }

    @media (max-width: 992px) {
        .amazon-home-grid {
            grid-template-columns: repeat(2, 1fr);
        }
    }

    @media (max-width: 768px) {
        .amazon-home-grid {
            grid-template-columns: repeat(2, 1fr);
            padding: 10px;
            gap: 12px;
        }

        .amazon-card {
            height: auto;
            min-height: 280px;
            padding: 12px;
        }

        .amazon-card-title {
            font-size: 1.1rem;
            margin-bottom: 15px;
        }

        .amazon-quad-grid {
            gap: 10px;
            margin-bottom: 8px;
        }

        .amazon-quad-img-wrapper {
            margin-bottom: 3px;
        }

        .amazon-quad-label {
            font-size: 0.7rem;
        }

        .amazon-card-link {
            font-size: 0.8rem;
        }
    }

    @media (max-width: 768px) {
        .amazon-home-grid {
            grid-template-columns: repeat(2, 1fr);
            padding: 10px;
            gap: 12px;
        }

        .amazon-card {
            height: auto;
            min-height: 280px;
            padding: 12px;
        }

        .amazon-card-title {
            font-size: 1.1rem;
            margin-bottom: 15px;
        }

        .amazon-quad-grid {
            gap: 10px;
            margin-bottom: 8px;
        }

        .amazon-quad-img-wrapper {
            margin-bottom: 3px;
        }

        .amazon-quad-label {
            font-size: 0.7rem;
        }

        .amazon-card-link {
            font-size: 0.8rem;
        }
    }

    @media (max-width: 576px) {
        .amazon-home-grid {
            grid-template-columns: repeat(2, 1fr);
            padding: 8px;
            gap: 10px;
        }

        .amazon-card {
            height: auto;
            min-height: 200px;
            padding: 8px;
        }

        .amazon-card-title {
            font-size: 0.9rem;
            margin-bottom: 8px;
        }

        .amazon-quad-grid {
            gap: 6px;
            margin-bottom: 5px;
        }

        .amazon-quad-label {
            font-size: 0.6rem;
        }

        .amazon-card-link {
            font-size: 0.65rem;
        }
    }

    @media (max-width: 480px) {
        .amazon-home-grid {
            grid-template-columns: repeat(2, 1fr);
            padding: 6px;
            gap: 8px;
        }

        .amazon-card {
            min-height: 180px;
            padding: 6px;
        }

        .amazon-card-title {
            font-size: 0.8rem;
        }

        .amazon-quad-grid {
            gap: 5px;
        }

        .amazon-quad-label {
            font-size: 0.55rem;
        }

        .amazon-card-link {
            font-size: 0.6rem;
        }
    }
</style>

<body>
    <nav class="navbar navbar-expand-lg">
        <div class="container-fluid">
            <a href="{% url 'home' %}" class="navbar-brand">
                <img src="{% static 'accounts/images/lumoskart-logo.png' %}" alt="Lumoskart Logo"
                    class="d-inline-block align-middle" style="max-height: 50px; width: auto;">
            </a>

            <div class="mobile-view d-flex align-items-center justify-content-end">
                <button class="btn btn-outline-light ms-2" data-bs-toggle="offcanvas" data-bs-target="#searchOffcanvas"
                    aria-controls="searchOffcanvas">
                    <i class="fas fa-search"></i>
                </button>
                <a href="{% url 'login' %}" class="btn btn-open-app mx-auto">Login</a>
                <button class="navbar-toggler ms-2" type="button" data-bs-toggle="offcanvas"
                    data-bs-target="#navbarOffcanvas" aria-controls="navbarOffcanvas">
                    <span class="navbar-toggler-icon text-light"></span>
                </button>
            </div>

            <div class="desktop-view collapse navbar-collapse" id="navbarNav">
                <div class="search-container">
                    <form action="{% url 'search' %}" method="get" class="d-flex align-items-center">
                        <input type="hidden" name="page" value="home">
                        <span class="search-icon"><i class="fas fa-search"></i></span>
                        <input type="text" name="q" class="form-control search-bar"
                            placeholder="Search influencers, products..."
                            data-placeholder-en="Search influencers, products..."
                            data-placeholder-ar="Ø§Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ù…Ø¤Ø«Ø±ÙŠÙ† Ø£Ùˆ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª..."
                            data-placeholder-hi="à¤ªà¥à¤°à¤­à¤¾à¤µà¤•à¥‹à¤‚ à¤¯à¤¾ à¤‰à¤¤à¥à¤ªà¤¾à¤¦à¥‹à¤‚ à¤•à¥‹ à¤–à¥‹à¤œà¥‡à¤‚..."
                            value="{{ request.GET.q|default:'' }}" required>
                        {% if request.GET.q %}
                        <a href="{% url 'home' %}" class="btn btn-outline-light ms-2" data-en="Clear" data-ar="Ù…Ø³Ø­"
                            data-hi="à¤¸à¤¾à¤«à¤¼ à¤•à¤°à¥‡à¤‚">Clear</a>
                        {% endif %}
                    </form>
                </div>

                <!-- Navigation Links - With Language Selection -->
                <div class="ms-auto d-flex align-items-center gap-3">
                    <div class="dropdown">
                        <button class="btn btn-outline-light dropdown-toggle" type="button" id="languageDropdown"
                            data-bs-toggle="dropdown" aria-expanded="false">
                            <i class="fas fa-globe me-1"></i> <span id="currentLanguage">English</span>
                        </button>
                        <ul class="dropdown-menu" aria-labelledby="languageDropdown">
                            <li><a class="dropdown-item lang-option" href="#" data-lang="en">English</a></li>
                            <li><a class="dropdown-item lang-option" href="#" data-lang="ar">Arabic</a></li>
                            <li><a class="dropdown-item lang-option" href="#" data-lang="hi">Hindi</a></li>
                        </ul>
                    </div>
                    <!-- Currency Converter Dropdown -->
                    <div class="dropdown">
                        <button class="btn btn-outline-light dropdown-toggle me-2" type="button" id="currencyDropdown"
                            data-bs-toggle="dropdown" aria-expanded="false">
                            <i class="fas fa-exchange-alt me-1"></i> <span id="currentCurrency">INR (â‚¹)</span>
                        </button>
                        <ul class="dropdown-menu" aria-labelledby="currencyDropdown">
                            <li><a class="dropdown-item currency-option" href="#" data-currency="INR"
                                    data-symbol="â‚¹">India (INR)</a></li>
                            <li><a class="dropdown-item currency-option" href="#" data-currency="AED"
                                    data-symbol="Ø¯.Ø¥">UAE (AED)</a></li>
                            <li><a class="dropdown-item currency-option" href="#" data-currency="SGD"
                                    data-symbol="$">Singapore (SGD)</a></li>
                            <li><a class="dropdown-item currency-option" href="#" data-currency="PHP"
                                    data-symbol="â‚±">Philippines (PHP)</a></li>
                            <li><a class="dropdown-item currency-option" href="#" data-currency="USD"
                                    data-symbol="$">USA (USD)</a></li>
                            <li><a class="dropdown-item currency-option" href="#" data-currency="EUR"
                                    data-symbol="â‚¬">Germany (EUR)</a></li>
                            <li><a class="dropdown-item currency-option" href="#" data-currency="IDR"
                                    data-symbol="Rp">Indonesia (IDR)</a></li>
                        </ul>
                    </div>
                    <a href="{% url 'register_customer' %}" class="btn btn-signup" data-en="Sign up" data-ar="Ø§Ø´ØªØ±Ø§Ùƒ"
                        data-hi="à¤¸à¤¾à¤‡à¤¨ à¤…à¤ª à¤•à¤°à¥‡à¤‚"><span class="btn-text">Sign up</span></a>
                    <a href="{% url 'login' %}" class="btn btn-login" data-en="Log in" data-ar="ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„"
                        data-hi="à¤²à¥‰à¤— à¤‡à¤¨ à¤•à¤°à¥‡à¤‚"><span class="btn-text">Log in</span></a>
                    <!--{% if user.is_staff %}-->
                    <!--<a href="{% url 'admin_dashboard' %}" class="btn btn-outline-light ms-2">Admin</a>-->
                    <!--{% endif %}-->
                </div>
            </div>
        </div>
    </nav>
    <!-- Off-canvas Menu for Mobile/Tablet -->
    <div class="offcanvas offcanvas-start" tabindex="-1" id="navbarOffcanvas" aria-labelledby="navbarOffcanvasLabel">
        <div class="offcanvas-header" style="background-color: #1e293b;">
            <h5 class="offcanvas-title" id="navbarOffcanvasLabel">
                <img src="{% static 'accounts/images/lumoskart-logo.png' %}" alt="Lumoskart Logo"
                    class="d-inline-block align-middle" style="max-height: 40px; width: auto;">
            </h5>
            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas"
                aria-label="Close"></button>
        </div>
        <div class="offcanvas-body" style="background-color: #0f172a;">
            <ul class="navbar-nav">
                <li class="nav-item"><a class="nav-link" href="{% url 'home' %}" data-en="Home" data-ar="Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©"
                        data-hi="à¤¹à¥‹à¤®"><i class="fas fa-home me-2"></i><span class="nav-text">Home</span></a></li>
                <li class="nav-item"><a class="nav-link" href="{% url 'about_us' %}" data-en="About" data-ar="Ù…Ù† Ù†Ø­Ù†"
                        data-hi="à¤¹à¤®à¤¾à¤°à¥‡ à¤¬à¤¾à¤°à¥‡ à¤®à¥‡à¤‚"><i class="fas fa-info-circle me-2"></i><span
                            class="nav-text">About</span></a></li>
                <li class="nav-item"><a class="nav-link" href="{% url 'support' %}" data-en="Support" data-ar="Ø§Ù„Ø¯Ø¹Ù…"
                        data-hi="à¤¸à¤¹à¤¾à¤¯à¤¤à¤¾"><i class="fas fa-headset me-2"></i><span class="nav-text">Support</span></a>
                </li>
                <!-- Language Selection in Mobile Menu -->
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="mobileLanguageDropdown" role="button"
                        data-bs-toggle="dropdown" aria-expanded="false">
                        <i class="fas fa-globe me-2"></i> <span id="mobileCurrentLanguage">English</span>
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="mobileLanguageDropdown">
                        <li><a class="dropdown-item lang-option" href="#" data-lang="en">English</a></li>
                        <li><a class="dropdown-item lang-option" href="#" data-lang="ar">Arabic</a></li>
                        <li><a class="dropdown-item lang-option" href="#" data-lang="hi">Hindi</a></li>
                    </ul>
                </li>
                <!-- Currency Converter in Mobile Menu -->
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="mobileCurrencyDropdown" role="button"
                        data-bs-toggle="dropdown" aria-expanded="false">
                        <i class="fas fa-exchange-alt me-2"></i> <span id="mobileCurrentCurrency">INR (â‚¹)</span>
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="mobileCurrencyDropdown">
                        <li><a class="dropdown-item currency-option" href="#" data-currency="INR" data-symbol="â‚¹">India
                                (INR)</a></li>
                        <li><a class="dropdown-item currency-option" href="#" data-currency="AED" data-symbol="Ø¯.Ø¥">UAE
                                (AED)</a></li>
                        <li><a class="dropdown-item currency-option" href="#" data-currency="SGD"
                                data-symbol="$">Singapore (SGD)</a></li>
                        <li><a class="dropdown-item currency-option" href="#" data-currency="PHP"
                                data-symbol="â‚±">Philippines (PHP)</a></li>
                        <li><a class="dropdown-item currency-option" href="#" data-currency="USD" data-symbol="$">USA
                                (USD)</a></li>
                        <li><a class="dropdown-item currency-option" href="#" data-currency="EUR"
                                data-symbol="â‚¬">Germany (EUR)</a></li>
                        <li><a class="dropdown-item currency-option" href="#" data-currency="IDR"
                                data-symbol="Rp">Indonesia (IDR)</a></li>
                    </ul>
                </li>
                <li class="nav-item"><a class="nav-link" href="{% url 'register_customer' %}" data-en="Sign up"
                        data-ar="Ø§Ø´ØªØ±Ø§Ùƒ" data-hi="à¤¸à¤¾à¤‡à¤¨ à¤…à¤ª à¤•à¤°à¥‡à¤‚"><i class="fas fa-user me-2"></i><span
                            class="nav-text">Sign up</span></a></li>
                <li class="nav-item"><a class="nav-link" href="{% url 'login' %}" data-en="Log in"
                        data-ar="ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„" data-hi="à¤²à¥‰à¤— à¤‡à¤¨ à¤•à¤°à¥‡à¤‚"><i class="fas fa-sign-in-alt me-2"></i><span
                            class="nav-text">Log in</span></a></li>
                <li class="nav-item"><a class="nav-link" href="{% url 'order_tracking' %}" data-en="Order Tracking"
                        data-ar="ØªØªØ¨Ø¹ Ø§Ù„Ø·Ù„Ø¨" data-hi="à¤‘à¤°à¥à¤¡à¤° à¤Ÿà¥à¤°à¥ˆà¤•à¤¿à¤‚à¤—"><i class="fas fa-box me-2"></i><span
                            class="nav-text">Order Tracking</span></a></li>
                <!-- Moved Premium option here as a sub-section under Sign Up -->
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'register_influencer' %}" data-en="Sign up as an Influencer"
                        data-ar="Ø§Ù„ØªØ³Ø¬ÙŠÙ„ ÙƒÙ…Ø¤Ø«Ø±" data-hi="à¤à¤• à¤ªà¥à¤°à¤­à¤¾à¤µà¤• à¤•à¥‡ à¤°à¥‚à¤ª à¤®à¥‡à¤‚ à¤¸à¤¾à¤‡à¤¨ à¤…à¤ª à¤•à¤°à¥‡à¤‚"><i
                            class="fas fa-user-plus me-2"></i><span class="nav-text">Sign
                            up as an Influencer</span></a>
                    <ul class="nav flex-column ms-4">
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'register_influencer' %}" data-en="Premium" data-ar="Ù…Ù…ÙŠØ²"
                                data-hi="à¤ªà¥à¤°à¥€à¤®à¤¿à¤¯à¤®"><i class="fas fa-crown me-2"></i><span
                                    class="nav-text">Premium</span></a>
                        </li>
                    </ul>
                </li>
                <li class="nav-item"><a class="nav-link" href="{% url 'logout' %}" data-en="Logout"
                        data-ar="ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬" data-hi="à¤²à¥‰à¤— à¤†à¤‰à¤Ÿ"><i class="fas fa-sign-out-alt me-2"></i><span
                            class="nav-text">Logout</span></a>
                </li>

            </ul>
        </div>
    </div>

    <div class="offcanvas offcanvas-start" tabindex="-1" id="searchOffcanvas" aria-labelledby="searchOffcanvasLabel">
        <div class="offcanvas-header" style="background-color: #1e293b;">
            <h5 class="offcanvas-title" id="searchOffcanvasLabel">Search</h5>
            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas"
                aria-label="Close"></button>
        </div>
        <div class="offcanvas-body" style="background-color: #0f172a;">
            <form action="{% url 'search' %}" method="get" class="d-flex align-items-center w-100">
                <input type="hidden" name="page" value="home">
                <input type="text" name="q" class="form-control search-bar"
                    placeholder="Search influencers or products..."
                    data-placeholder-en="Search influencers or products..."
                    data-placeholder-ar="Ø§Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ù…Ø¤Ø«Ø±ÙŠÙ† Ø£Ùˆ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª..."
                    data-placeholder-hi="à¤ªà¥à¤°à¤­à¤¾à¤µà¤•à¥‹à¤‚ à¤¯à¤¾ à¤‰à¤¤à¥à¤ªà¤¾à¤¦à¥‹à¤‚ à¤•à¥‹ à¤–à¥‹à¤œà¥‡à¤‚..." value="{{ request.GET.q|default:'' }}"
                    required>
                <button type="submit" class="btn btn-primary ms-2">
                    <i class="fas fa-search"></i>
                </button>
            </form>
        </div>
    </div>

    <!-- Main Content -->
    <main class="main-content-area">
        <!-- Search Results Feedback -->
        {% if request.GET.q %}
        <div class="search-results-feedback mb-4">
            <p data-en="Showing results for \" {{ request.GET.q }}\": {{ products|length }} products, {{
                influencers|length }} influencers" data-ar="Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ù„Ù€ \" {{ request.GET.q }}\": {{ products|length
                }} Ù…Ù†ØªØ¬Ø§ØªØŒ {{ influencers|length }} Ù…Ø¤Ø«Ø±ÙˆÙ†" data-hi="\" {{ request.GET.q }}\" à¤•à¥‡ à¤²à¤¿à¤ à¤ªà¤°à¤¿à¤£à¤¾à¤® à¤¦à¤¿à¤–à¤¾ à¤°à¤¹à¤¾ à¤¹à¥ˆ:
                {{ products|length }} à¤‰à¤¤à¥à¤ªà¤¾à¤¦, {{ influencers|length }} à¤ªà¥à¤°à¤­à¤¾à¤µà¤•">Showing results for "{{ request.GET.q
                }}": {{ products|length }} products, {{ influencers|length }}
                influencers</p>
            {% if not products and not influencers %}
            <p data-en="No results found. Try a different search term." data-ar="Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬. Ø­Ø§ÙˆÙ„ Ù…ØµØ·Ù„Ø­ Ø¨Ø­Ø« Ù…Ø®ØªÙ„Ù."
                data-hi="à¤•à¥‹à¤ˆ à¤ªà¤°à¤¿à¤£à¤¾à¤® à¤¨à¤¹à¥€à¤‚ à¤®à¤¿à¤²à¤¾à¥¤ à¤•à¥‹à¤ˆ à¤…à¤²à¤— à¤–à¥‹à¤œ à¤¶à¤¬à¥à¤¦ à¤†à¤œà¤¼à¤®à¤¾à¤à¤‚à¥¤">No results found. Try a different search term.
            </p>
            {% endif %}
        </div>
        {% endif %}

        <!-- Banner Section -->
        <div class="banner-section">
            <div class="banner-card">
                <h2 data-en="Discover Amazing Products" data-ar="Ø§ÙƒØªØ´Ù Ù…Ù†ØªØ¬Ø§Øª Ø±Ø§Ø¦Ø¹Ø©" data-hi="à¤¶à¤¾à¤¨à¤¦à¤¾à¤° à¤‰à¤¤à¥à¤ªà¤¾à¤¦ à¤–à¥‹à¤œà¥‡à¤‚">
                    Discover Amazing Products</h2>
                <p data-en="Browse through our curated selection of products promoted by top influencers"
                    data-ar="ØªØµÙØ­ Ø§Ø®ØªÙŠØ§Ø±Ù†Ø§ Ø§Ù„Ù…Ù†Ø³Ù‚ Ù…Ù† Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…Ù‚Ø¯Ù…Ø© Ù…Ù† Ø§Ù„Ù…Ø¤Ø«Ø±ÙŠÙ† Ø§Ù„Ø±Ø§Ø¦Ø¯ÙŠÙ†"
                    data-hi="à¤¶à¥€à¤°à¥à¤· à¤ªà¥à¤°à¤­à¤¾à¤µà¤•à¥‹à¤‚ à¤¦à¥à¤µà¤¾à¤°à¤¾ à¤¸à¤‚à¤¸à¥‹à¤°à¥à¤Ÿ à¤•à¤¿à¤ à¤—à¤ à¤‰à¤¤à¥à¤ªà¤¾à¤¦à¥‹à¤‚ à¤•à¥‡ à¤¹à¤®à¤¾à¤°à¥‡ à¤šà¤¯à¤¨à¤¿à¤¤ à¤¸à¤‚à¤—à¥à¤°à¤¹ à¤•à¥‹ à¤¬à¥à¤°à¤¾à¤‰à¤œà¤¼ à¤•à¤°à¥‡à¤‚">
                    Browse through our curated selection of products promoted by top influencers</p>
            </div>
        </div>



        <!-- Featured Influencers -->
        <section class="artist-section">
            <div class="section-title-bar mb-4">
                <h2 data-en="Influencers" data-ar="Ø§Ù„Ù…Ø¤Ø«Ø±ÙˆÙ†" data-hi="à¤ªà¥à¤°à¤­à¤¾à¤µà¤•"> Influencers</h2>
                <a href="{% url 'influencer_list' %}" class="view-all-btn" data-en="Show all" data-ar="Ø¹Ø±Ø¶ Ø§Ù„ÙƒÙ„"
                    data-hi="à¤¸à¤­à¥€ à¤¦à¤¿à¤–à¤¾à¤à¤‚">Show all</a>
            </div>
            <div class="influencers-section">
                <div class="swiper influencers-swiper">
                    <div class="swiper-wrapper">
                        {% for influencer in influencers %}
                        {% if influencer.is_active and influencer.influencer_profile %}
                        <div class="swiper-slide">
                            <a href="{% url 'view_influencer_detail' influencer.id %}" class="influencer-card">
                                <div class="influencer-img">
                                    {% if influencer.influencer_profile.photo %}
                                    <img src="{{ influencer.influencer_profile.photo.url }}"
                                        alt="{{ influencer.username }}">
                                    {% else %}
                                    <img src="{% static 'images/default_profile.png' %}" alt="Default profile">
                                    {% endif %}
                                </div>
                                <h3 class="influencer-name">{{ influencer.get_full_name|default:influencer.username }}
                                </h3>
                                <p class="product-count">{{ influencer.products.count }} Products</p>
                            </a>
                        </div>
                        {% endif %}
                        {% empty %}
                        <div class="swiper-slide">
                            <div class="empty-state">
                                <p data-en="No influencers registered yet." data-ar="Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ø¤Ø«Ø±ÙˆÙ† Ù…Ø³Ø¬Ù„ÙˆÙ† Ø¨Ø¹Ø¯."
                                    data-hi="à¤…à¤­à¥€ à¤¤à¤• à¤•à¥‹à¤ˆ à¤ªà¥à¤°à¤­à¤¾à¤µà¤• à¤ªà¤‚à¤œà¥€à¤•à¥ƒà¤¤ à¤¨à¤¹à¥€à¤‚ à¤¹à¥ˆà¥¤">No influencers registered yet.</p>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                    <!-- Swiper pagination -->
                    <div class="swiper-pagination influencers-pagination"></div>
                </div>
            </div>
        </section>


        <!-- Amazon Quad Grid Section -->
        <section class="amazon-category-section mb-5" style="padding: 0 20px;">
            <div class="amazon-home-grid">
                <!-- Card 1: Revamp your home (Quad) -->
                <div class="amazon-card">
                    <h3 class="amazon-card-title">Choose your Shirt</h3>
                    <div class="amazon-quad-grid">
                        <a href="{% url 'product_lists' %}?search=cushion" class="amazon-quad-item">
                            <div class="amazon-quad-img-wrapper">
                                <img src="{% static 'accounts/images/457e9ae6e5436125a6cda19a9fa01dc0.jpg' %}"
                                    class="amazon-quad-img" alt="Cushion covers">
                            </div>
                            <span class="amazon-quad-label"></span>
                        </a>
                        <a href="{% url 'product_lists' %}?search=decor" class="amazon-quad-item">
                            <div class="amazon-quad-img-wrapper">
                                <img src="{% static 'accounts/images/8186fa2e6e60c6776e032a5046836538.jpg' %}"
                                    class="amazon-quad-img" alt="Decor">
                            </div>
                            <span class="amazon-quad-label"></span>
                        </a>
                        <a href="{% url 'product_lists' %}?search=storage" class="amazon-quad-item">
                            <div class="amazon-quad-img-wrapper">
                                <img src="{% static 'accounts/images/9b6814ab4ea603641233ee7f1e4f4bef.jpg' %}"
                                    class="amazon-quad-img" alt="Storage">
                            </div>
                            <span class="amazon-quad-label"></span>
                        </a>
                        <a href="{% url 'product_lists' %}?search=lighting" class="amazon-quad-item">
                            <div class="amazon-quad-img-wrapper">
                                <img src="{% static 'accounts/images/f7445a302775880f5d607a78ca69a8e3.jpg' %}"
                                    class="amazon-quad-img" alt="Lighting">
                            </div>
                            <span class="amazon-quad-label"></span>

                        </a>
                    </div>
                    <a href="{% url 'product_lists' %}" class="amazon-card-link">Explore all</a>
                </div>

                <!-- Card 2: Appliances (Quad) -->
                <div class="amazon-card">
                    <h3 class="amazon-card-title">T Shirts</h3>
                    <div class="amazon-quad-grid">
                        <a href="{% url 'product_lists' %}?search=ac" class="amazon-quad-item">
                            <div class="amazon-quad-img-wrapper">
                                <img src="{% static 'accounts/images/5663f38bb21ad810f2772fff8d49d2a6 (1).jpg' %}"
                                    class="amazon-quad-img" alt="AC">
                            </div>
                            <span class="amazon-quad-label"></span>
                        </a>
                        <a href="{% url 'product_lists' %}?search=fridge" class="amazon-quad-item">
                            <div class="amazon-quad-img-wrapper">
                                <img src="{% static 'accounts/images/2a5be5560e281c7438851cae8dde2074.jpg' %}"
                                    class="amazon-quad-img" alt="Fridge">
                            </div>
                            <span class="amazon-quad-label"></span>
                        </a>
                        <a href="{% url 'product_lists' %}?search=microwave" class="amazon-quad-item">
                            <div class="amazon-quad-img-wrapper">
                                <img src="{% static 'accounts/images/896464c0d818a2e8182cd48e98e580ee.jpg' %}"
                                    class="amazon-quad-img" alt="Microwaves">
                            </div>
                            <span class="amazon-quad-label"></span>
                        </a>
                        <a href="{% url 'product_lists' %}?search=washing" class="amazon-quad-item">
                            <div class="amazon-quad-img-wrapper">
                                <img src="{% static 'accounts/images/a7773c266513b1c4384baf5d5c26e556.jpg' %}"
                                    class="amazon-quad-img" alt="Washing machines">
                            </div>
                            <span class="amazon-quad-label"></span>
                        </a>
                    </div>
                    <a href="{% url 'product_lists' %}" class="amazon-card-link">See more</a>
                </div>

                <!-- Card 3: Single Image -->
                <div class="amazon-card">
                    <h3 class="amazon-card-title">Arts</h3>
                    <a href="{% url 'product_lists' %}?search=headphones" class="amazon-single-item">
                        <img src="{% static 'accounts/images/f46b924c93829734af158a2328d3568b.jpg' %}"
                            class="amazon-single-img" alt="Headphones">
                    </a>
                    <a href="{% url 'product_lists' %}?search=headphones" class="amazon-card-link">See all offers</a>
                </div>

                <!-- Card 4: Automotive (Quad) or Generic -->
                <div class="amazon-card">
                    <h3 class="amazon-card-title">Top</h3>
                    <div class="amazon-quad-grid">
                        <a href="{% url 'product_lists' %}?search=cleaning" class="amazon-quad-item">
                            <div class="amazon-quad-img-wrapper">
                                <img src="{% static 'accounts/images/30da728012339c421f4dff6791cb53d7.jpg' %}"
                                    class="amazon-quad-img" alt="Cleaning">
                            </div>
                            <span class="amazon-quad-label"></span>
                        </a>
                        <a href="{% url 'product_lists' %}?search=tyre" class="amazon-quad-item">
                            <div class="amazon-quad-img-wrapper">
                                <img src="{% static 'accounts/images/3e22534c2bb1bd48a4ff47498add8d23.jpg' %}"
                                    class="amazon-quad-img" alt="Tyre">
                            </div>
                            <span class="amazon-quad-label"></span>
                        </a>
                        <a href="{% url 'product_lists' %}?search=helmet" class="amazon-quad-item">
                            <div class="amazon-quad-img-wrapper">
                                <img src="{% static 'accounts/images/bc8e7d8a7e90fac45b1bbda38166b311.jpg' %}"
                                    class="amazon-quad-img" alt="Helmet">
                            </div>
                            <span class="amazon-quad-label"></span>
                        </a>
                        <a href="{% url 'product_lists' %}?search=vacuum" class="amazon-quad-item">
                            <div class="amazon-quad-img-wrapper">
                                <img src="{% static 'accounts/images/28f3f610972c329bfefb89266fa52b5d.jpg' %}"
                                    class="amazon-quad-img" alt="Vacuum">
                            </div>
                            <span class="amazon-quad-label"></span>
                        </a>
                    </div>
                    <a href="{% url 'product_lists' %}" class="amazon-card-link">see more</a>
                </div>
            </div>
        </section>



        <!-- Products by Category (Amazon/Flipkart Style) -->
        {% for category, category_products in products_by_category.items %}
        <section class="artist-section category-section">
            <div class="section-title-bar">
                <div>
                    <h2>{{ category.name }}</h2>
                    <p class="category-description" data-en="Explore our collection of {{ category.name|lower }}"
                        data-ar="Ø§Ø³ØªÙƒØ´Ù Ù…Ø¬Ù…ÙˆØ¹ØªÙ†Ø§ Ù…Ù† {{ category.name|lower }}"
                        data-hi="{{ category.name|lower }} à¤•à¥‡ à¤¹à¤®à¤¾à¤°à¥‡ à¤¸à¤‚à¤—à¥à¤°à¤¹ à¤•à¤¾ à¤ªà¤¤à¤¾ à¤²à¤—à¤¾à¤à¤‚">Explore our collection of {{
                        category.name|lower }}</p>
                </div>
                <a href="{% url 'product_lists' %}?category={{ category.id }}" class="view-all-btn"
                    data-en="View All {{ category.name }}" data-ar="Ø¹Ø±Ø¶ Ø§Ù„ÙƒÙ„ {{ category.name }}"
                    data-hi="à¤¸à¤­à¥€ {{ category.name }} à¤¦à¥‡à¤–à¥‡à¤‚">View All {{
                    category.name }}</a>
            </div>
            <div class="products-grid">
                {% for product in category_products %}
                <a href="{% url 'product_detail' product.id %}" class="text-decoration-none">
                    <div class="product-card" data-product-id="{{ product.id }}"
                        data-category-id="{{ product.category.id|default:'0' }}">
                        <div class="product-img-wrapper">
                            {% if product.image %}
                            <img src="{{ product.image.url }}" alt="{{ product.name }}">
                            {% else %}
                            <img src="{% static 'images/product-placeholder.jpg' %}" alt="Product Image">
                            {% endif %}

                            <!-- Category Badge -->
                            <div class="category-badge">{{ product.category.name }}</div>

                            {% if product.influencer %}
                            <div class="promoted-badge">{{ product.influencer.username|upper }}</div>
                            {% endif %}
                        </div>

                        <div class="product-details">
                            <h3 class="product-title">{{ product.name }}</h3>

                            <!-- Influencer Name -->
                            {% if product.influencer %}
                            <p class="product-influencer">{{ product.influencer.username }}</p>
                            {% endif %}

                            <!-- Product Description -->
                            {% if product.description %}
                            <p class="product-description">{{ product.description|truncatewords:15 }}</p>
                            {% endif %}

                            <!-- Size Information -->
                            {% if product.size %}
                            <div class="product-size-info">
                                <i class="fas fa-ruler-combined"></i>
                                <span>Size: {{ product.size }}</span>
                            </div>
                            {% endif %}

                            <!-- Optional rating -->
                            {% if product.rating %}
                            <div class="rating">
                                {% for i in "12345" %}
                                {% if forloop.counter <= product.rating %} <span class="star filled">â˜…</span>
                                    {% else %}
                                    <span class="star">â˜†</span>
                                    {% endif %}
                                    {% endfor %}
                                    <span class="rating-count">({{ product.rating }})</span>
                            </div>
                            {% endif %}

                            <div class="product-footer">
                                <div class="price-section">
                                    <span class="product-price" data-price="{{ product.price }}" data-currency="INR">â‚¹{{
                                        product.price }}</span>
                                    {% if product.original_price %}
                                    <span class="original-price" data-price="{{ product.original_price }}"
                                        data-currency="INR">â‚¹{{ product.original_price }}</span>
                                    <span class="discount-badge">{% widthratio product.price product.original_price 100
                                        %}%
                                        OFF</span>
                                    {% endif %}
                                </div>
                                <button class="heart-btn" aria-label="Add to wishlist" data-en="Add to wishlist"
                                    data-ar="Ø£Ø¶Ù Ø¥Ù„Ù‰ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ù…Ù†ÙŠØ§Øª" data-hi="à¤‡à¤šà¥à¤›à¤¾ à¤¸à¥‚à¤šà¥€ à¤®à¥‡à¤‚ à¤œà¥‹à¤¡à¤¼à¥‡à¤‚">
                                    <i class="fas fa-heart"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </a>
                {% endfor %}
            </div>
        </section>
        {% empty %}
        <!-- Fallback: Show all products if no categories exist -->
        <section class="artist-section">
            <div class="section-title-bar">
                <h2 data-en="Products" data-ar="Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª" data-hi="à¤‰à¤¤à¥à¤ªà¤¾à¤¦"> Products</h2>
                <a href="{% url 'product_lists' %}" class="view-all-btn" data-en="View More" data-ar="Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø²ÙŠØ¯"
                    data-hi="à¤”à¤° à¤¦à¥‡à¤–à¥‡à¤‚">View More</a>
            </div>
            <div class="products-grid">
                {% for product in products %}
                <a href="{% url 'product_detail' product.id %}" class="text-decoration-none">
                    <div class="product-card" data-product-id="{{ product.id }}"
                        data-category-id="{{ product.category.id|default:'0' }}">
                        <div class="product-img-wrapper">
                            {% if product.image %}
                            <img src="{{ product.image.url }}" alt="{{ product.name }}">
                            {% else %}
                            <img src="{% static 'images/product-placeholder.jpg' %}" alt="Product Image">
                            {% endif %}

                            {% if product.category %}
                            <div class="category-badge">{{ product.category.name }}</div>
                            {% endif %}

                            {% if product.influencer %}
                            <div class="promoted-badge">{{ product.influencer.username|upper }}</div>
                            {% endif %}
                        </div>

                        <div class="product-details">
                            <h3 class="product-title">{{ product.name }}</h3>

                            <!-- Influencer Name -->
                            {% if product.influencer %}
                            <p class="product-influencer">{{ product.influencer.username }}</p>
                            {% endif %}

                            {% if product.description %}
                            <p class="product-description">{{ product.description|truncatewords:15 }}</p>
                            {% endif %}

                            {% if product.size %}
                            <div class="product-size-info">
                                <i class="fas fa-ruler-combined"></i>
                                <span>Size: {{ product.size }}</span>
                            </div>
                            {% endif %}

                            {% if product.rating %}
                            <div class="rating">
                                {% for i in "12345" %}
                                {% if forloop.counter <= product.rating %} <span class="star filled">â˜…</span>
                                    {% else %}
                                    <span class="star">â˜†</span>
                                    {% endif %}
                                    {% endfor %}
                            </div>
                            {% endif %}

                            <div class="product-footer">
                                <span class="product-price" data-price="{{ product.price }}" data-currency="INR">â‚¹{{
                                    product.price }}</span>
                                <button class="heart-btn" aria-label="Add to wishlist" data-en="Add to wishlist"
                                    data-ar="Ø£Ø¶Ù Ø¥Ù„Ù‰ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ù…Ù†ÙŠØ§Øª" data-hi="à¤‡à¤šà¥à¤›à¤¾ à¤¸à¥‚à¤šà¥€ à¤®à¥‡à¤‚ à¤œà¥‹à¤¡à¤¼à¥‡à¤‚">
                                    <i class="fas fa-heart"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </a>
                {% empty %}
                <div class="empty-state">
                    <p data-en="No products available." data-ar="Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù†ØªØ¬Ø§Øª Ù…ØªØ§Ø­Ø©."
                        data-hi="à¤•à¥‹à¤ˆ à¤‰à¤¤à¥à¤ªà¤¾à¤¦ à¤‰à¤ªà¤²à¤¬à¥à¤§ à¤¨à¤¹à¥€à¤‚ à¤¹à¥ˆà¥¤">No products available.</p>
                </div>
                {% endfor %}
            </div>
        </section>
        {% endfor %}

        <!-- Instagram Reels Section -->
        <section class="video-shorts-section">
            <div class="section-header">
                <h2 class="section-title" data-en="Videos" data-ar="ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª" data-hi="à¤µà¥€à¤¡à¤¿à¤¯à¥‹">Videos</h2>
                <p class="section-description" data-en="Watch engaging videos from our top influencers"
                    data-ar="Ø´Ø§Ù‡Ø¯ Ù…Ù‚Ø§Ø·Ø¹ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ø§Ù„Ù…Ù…ØªØ¹Ø© Ù…Ù† Ù…Ø¤Ø«Ø±ÙŠÙ†Ø§ Ø§Ù„Ø£Ø¹Ù„Ù‰"
                    data-hi="à¤¹à¤®à¤¾à¤°à¥‡ à¤¶à¥€à¤°à¥à¤· à¤ªà¥à¤°à¤­à¤¾à¤µà¤•à¥‹à¤‚ à¤¸à¥‡ à¤†à¤•à¤°à¥à¤·à¤• à¤µà¥€à¤¡à¤¿à¤¯à¥‹ à¤¦à¥‡à¤–à¥‡à¤‚">Watch engaging videos from our top
                    influencers</p>
            </div>

            {% if reels_videos %}
            <div class="reels-grid">
                {% for video in reels_videos %}
                <div class="reel-widget-card position-relative overflow-hidden" data-video-id="{{ video.id }}"
                    data-video-index="{{ forloop.counter0 }}">
                    {% with product=video.products.first %}
                    <!-- Badges -->
                    <div class="reel-discount-badge">60%</div>
                    <div class="reel-views-badge">
                        <i class="fas fa-eye"></i> {{ video.views|default:0 }}
                    </div>

                    <!-- Video Background -->
                    <a href="javascript:void(0);" class="text-decoration-none video-shorts-item"
                        data-video-id="{{ video.id }}" data-video-url="{{ video.video_file.url }}"
                        data-video-title="{{ video.title }}" data-video-influencer="{{ video.influencer.username }}"
                        data-video-influencer-id="{{ video.influencer.id }}"
                        data-video-likes="{{ video.likes|default:0 }}" data-video-views="{{ video.views|default:0 }}"
                        data-video-products='{% for prod in video.products.all %}{"id": {{ prod.id }}, "name": "{{ prod.name }}", "price": {{ prod.price }}, "currency": "INR", "image": "{{ prod.image.url|default:"" }}", "influencer_id": {{ video.influencer.id }}}{% if not forloop.last %},{% endif %}{% endfor %}'>
                        <video class="w-100 h-100 object-fit-cover" muted autoplay loop playsinline preload="metadata"
                            volume="0">
                            <source src="{{ video.video_file.url }}#t=0.1" type="video/mp4">
                        </video>

                        <!-- Bottom Gradient for contrast -->
                        <div class="reel-overlay-gradient"></div>

                        <!-- Video Info (Influencer Name and Bio) -->
                        <div class="reel-video-info">
                            <h6 class="reel-video-title">{{ video.title|truncatewords:6 }}</h6>
                            <p class="reel-video-influencer">@{{ video.influencer.username }}</p>
                            {% if video.influencer.influencer_profile and video.influencer.influencer_profile.bio %}
                            <p class="reel-video-description">{{
                                video.influencer.influencer_profile.bio|truncatewords:10 }}</p>
                            {% endif %}
                        </div>

                        {% if product %}
                        <!-- Product Overlay -->
                        <div class="reel-product-overlay">
                            {% if product.image %}
                            <img src="{{ product.image.url }}" class="reel-product-thumb" alt="{{ product.name }}">
                            {% else %}
                            <div
                                class="reel-product-thumb d-flex align-items-center justify-content-center bg-secondary">
                                <i class="fas fa-image text-white-50"></i>
                            </div>
                            {% endif %}
                            <div class="reel-product-info">
                                <div class="reel-product-name">{{ product.name }}</div>
                                <div class="reel-product-price-row">
                                    <span class="reel-current-price" data-price="{{ product.price }}"
                                        data-currency="INR">â‚¹{{ product.price }}</span>
                                    <span class="reel-original-price" data-price="{% widthratio product.price 4 10 %}"
                                        data-currency="INR">â‚¹{% widthratio product.price 4 10 %}</span>
                                </div>
                            </div>
                        </div>
                        {% endif %}
                    </a>

                    <!-- Add to Cart / Buy Now Bar -->
                    {% if product %}
                    <a href="{% url 'view_influencer_products' product.influencer.id %}"
                        class="reel-add-to-cart-bar buy-now-btn" data-en="Buy Now" data-ar="Ø§Ø´ØªØ±ÙŠ Ø§Ù„Ø¢Ù†"
                        data-hi="à¤…à¤­à¥€ à¤–à¤°à¥€à¤¦à¥‡à¤‚">
                        <span class="btn-text">Buy Now</span> <i class="fas fa-caret-down"></i>
                    </a>
                    {% else %}
                    <div class="reel-add-to-cart-bar disabled" style="opacity: 0.5; cursor: not-allowed;">
                        <a href="javascript:void(0);" class="video-shorts-action-btn video-shorts-buy"
                            id="video-shorts-buy-btn" data-en="Buy Now" data-ar="Ø§Ø´ØªØ±ÙŠ Ø§Ù„Ø¢Ù†" data-hi="à¤…à¤­à¥€ à¤–à¤°à¥€à¤¦à¥‡à¤‚">
                            <i class="fas fa-shopping-cart"></i> <span class="btn-text">Buy Now</span>
                        </a>
                    </div>
                    {% endif %}
                    {% endwith %}
                </div>
                {% endfor %}
            </div>
            {% else %}
            <div class="empty-state">
                <h4 data-en="No Reels Yet" data-ar="Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù‚Ø§Ø·Ø¹ Ø¨Ø¹Ø¯" data-hi="à¤…à¤­à¥€ à¤¤à¤• à¤•à¥‹à¤ˆ à¤°à¥€à¤²à¥à¤¸ à¤¨à¤¹à¥€à¤‚">No Reels Yet</h4>
                <p data-en="Be the first influencer to post!" data-ar="ÙƒÙ† Ø£ÙˆÙ„ Ù…Ø¤Ø«Ø± ÙŠÙ†Ø´Ø±!"
                    data-hi="à¤ªà¥‹à¤¸à¥à¤Ÿ à¤•à¤°à¤¨à¥‡ à¤µà¤¾à¤²à¥‡ à¤ªà¤¹à¤²à¥‡ à¤ªà¥à¤°à¤­à¤¾à¤µà¤• à¤¬à¤¨à¥‡à¤‚!">Be the first influencer to post!</p>
            </div>
            {% endif %}
        </section>

        <!-- Video Shorts Player Modal (Instagram Reels Style) -->
        <div class="video-shorts-player">
            <div class="video-shorts-content">
                <div class="video-shorts-video-container">
                    <video class="video-shorts-video" muted playsinline loop></video>

                    <!-- Close Button -->
                    <button class="video-shorts-close">
                        <i class="fas fa-times"></i>
                    </button>

                    <!-- Right Sidebar Actions -->
                    <div class="video-shorts-actions-sidebar">
                        <div class="action-item">
                            <button class="video-shorts-like">
                                <i class="far fa-heart"></i>
                            </button>
                            <span class="like-count">0</span>
                        </div>
                        <div class="action-item">
                            <button class="video-shorts-share">
                                <i class="far fa-paper-plane"></i>
                            </button>
                            <span class="action-label">Share</span>
                        </div>
                        <div class="action-item">
                            <button class="video-shorts-buy" id="video-shorts-buy-btn">
                                <i class="fas fa-shopping-bag"></i>
                            </button>
                            <span class="action-label">Shop</span>
                        </div>
                    </div>

                    <!-- Bottom Overlay Info -->
                    <div class="video-shorts-info-overlay">
                        <div class="influencer-info">
                            <div class="influencer-avatar-placeholder">
                                <i class="fas fa-user"></i>
                            </div>
                            <h3 class="video-shorts-influencer"></h3>
                        </div>
                        <div class="video-shorts-description"></div>
                        <!-- Hidden title element for JS compatibility -->
                        <div class="video-shorts-title" style="display:none;"></div>

                        <div class="video-shorts-products">
                            <!-- Products will be injected here as pills -->
                        </div>
                    </div>

                    <!-- Progress Bar -->
                    <div class="video-progress-container">
                        <div class="video-progress-bar"></div>
                    </div>

                    <!-- Navigation Arrows (Desktop) -->
                    <button class="nav-arrow prev-video"><i class="fas fa-chevron-up"></i></button>
                    <button class="nav-arrow next-video"><i class="fas fa-chevron-down"></i></button>
                </div>
            </div>
        </div>










        <!-- Footer -->
        <footer class="footer">
            <div class="container">
                <div class="footer-grid">
                    <!-- About Us -->
                    <div class="footer-column">
                        <h3 data-en="About Us" data-ar="Ù…Ù† Ù†Ø­Ù†" data-hi="à¤¹à¤®à¤¾à¤°à¥‡ à¤¬à¤¾à¤°à¥‡ à¤®à¥‡à¤‚">About Us</h3>
                        <ul class="footer-links">
                            <li><a href="{% url 'about_us' %}" data-en="Our Story" data-ar="Ù‚ØµØªÙ†Ø§"
                                    data-hi="à¤¹à¤®à¤¾à¤°à¥€ à¤•à¤¹à¤¾à¤¨à¥€">Our Story</a></li>
                            <li><a href="#" data-en="Careers" data-ar="Ø§Ù„ÙˆØ¸Ø§Ø¦Ù" data-hi="à¤•à¤°à¤¿à¤¯à¤°">Careers</a></li>
                            <li><a href="#" data-en="Press" data-ar="Ø§Ù„ØµØ­Ø§ÙØ©" data-hi="à¤ªà¥à¤°à¥‡à¤¸">Press</a></li>
                            <li><a href="#" data-en="Blog" data-ar="Ø§Ù„Ù…Ø¯ÙˆÙ†Ø©" data-hi="à¤¬à¥à¤²à¥‰à¤—">Blog</a></li>
                        </ul>
                    </div>

                    <!-- Terms & Conditions -->
                    <div class="footer-column">
                        <h3 data-en="Terms & Conditions" data-ar="Ø§Ù„Ø´Ø±ÙˆØ· ÙˆØ§Ù„Ø£Ø­ÙƒØ§Ù…" data-hi="à¤¨à¤¿à¤¯à¤® à¤à¤µà¤‚ à¤¶à¤°à¥à¤¤à¥‡à¤‚">Terms &
                            Conditions</h3>
                        <ul class="footer-links">
                            <li><a href="#" data-en="Terms of Service" data-ar="Ø´Ø±ÙˆØ· Ø§Ù„Ø®Ø¯Ù…Ø©"
                                    data-hi="à¤¸à¥‡à¤µà¤¾ à¤•à¥€ à¤¶à¤°à¥à¤¤à¥‡à¤‚">Terms of Service</a></li>
                            <li><a href="#" data-en="Privacy Policy" data-ar="Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©"
                                    data-hi="à¤—à¥‹à¤ªà¤¨à¥€à¤¯à¤¤à¤¾ à¤¨à¥€à¤¤à¤¿">Privacy Policy</a></li>
                            <li><a href="#" data-en="Return Policy" data-ar="Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø¥Ø±Ø¬Ø§Ø¹" data-hi="à¤µà¤¾à¤ªà¤¸à¥€ à¤¨à¥€à¤¤à¤¿">Return
                                    Policy</a></li>
                            <li><a href="#" data-en="Shipping Policy" data-ar="Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø´Ø­Ù†"
                                    data-hi="à¤¶à¤¿à¤ªà¤¿à¤‚à¤— à¤¨à¥€à¤¤à¤¿">Shipping Policy</a></li>
                        </ul>
                    </div>

                    <!-- Connect With Us -->
                    <div class="footer-column">
                        <h3 data-en="Connect With Us" data-ar="ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§" data-hi="à¤¹à¤®à¤¸à¥‡ à¤¸à¤‚à¤ªà¤°à¥à¤• à¤•à¤°à¥‡à¤‚">Connect With Us
                        </h3>
                        <ul class="footer-links">
                            <li><a href="{% url 'support' %}" data-en="Contact Us" data-ar="Ø§ØªØµÙ„ Ø¨Ù†Ø§"
                                    data-hi="à¤¹à¤®à¤¸à¥‡ à¤¸à¤‚à¤ªà¤°à¥à¤• à¤•à¤°à¥‡à¤‚">Contact Us</a></li>
                            <li><a href="{% url 'support' %}" data-en="FAQs" data-ar="Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©"
                                    data-hi="à¤ªà¥‚à¤›à¥‡ à¤œà¤¾à¤¨à¥‡ à¤µà¤¾à¤²à¥‡ à¤ªà¥à¤°à¤¶à¥à¤¨">FAQs</a></li>
                            <li><a href="{% url 'support' %}" data-en="Support Center" data-ar="Ù…Ø±ÙƒØ² Ø§Ù„Ø¯Ø¹Ù…"
                                    data-hi="à¤¸à¤¹à¤¾à¤¯à¤¤à¤¾ à¤•à¥‡à¤‚à¤¦à¥à¤°">Support Center</a></li>
                        </ul>
                        <div class="social-links">
                            <a href="#" class="social-link" aria-label="Facebook" data-en="Facebook" data-ar="ÙÙŠØ³Ø¨ÙˆÙƒ"
                                data-hi="à¤«à¥‡à¤¸à¤¬à¥à¤•"><i class="fab fa-facebook-f"></i></a>
                            <a href="#" class="social-link" aria-label="Twitter" data-en="Twitter" data-ar="ØªÙˆÙŠØªØ±"
                                data-hi="à¤Ÿà¥à¤µà¤¿à¤Ÿà¤°"><i class="fab fa-twitter"></i></a>
                            <a href="#" class="social-link" aria-label="Instagram" data-en="Instagram"
                                data-ar="Ø¥Ù†Ø³ØªØºØ±Ø§Ù…" data-hi="à¤‡à¤‚à¤¸à¥à¤Ÿà¤¾à¤—à¥à¤°à¤¾à¤®"><i class="fab fa-instagram"></i></a>
                            <a href="#" class="social-link" aria-label="LinkedIn" data-en="LinkedIn" data-ar="Ù„ÙŠÙ†ÙƒØ¯Ø¥Ù†"
                                data-hi="à¤²à¤¿à¤‚à¤•à¥à¤¡à¤‡à¤¨"><i class="fab fa-linkedin-in"></i></a>
                        </div>
                    </div>

                    <!-- Let Us Help You -->
                    <div class="footer-column">
                        <h3 data-en="Let Us Help You" data-ar="Ø¯Ø¹Ù†Ø§ Ù†Ø³Ø§Ø¹Ø¯Ùƒ" data-hi="à¤¹à¤® à¤†à¤ªà¤•à¥€ à¤®à¤¦à¤¦ à¤•à¤°à¥‡à¤‚">Let Us Help You
                        </h3>
                        <ul class="footer-links">
                            <li><a href="#" data-en="Customer Service" data-ar="Ø®Ø¯Ù…Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡"
                                    data-hi="à¤—à¥à¤°à¤¾à¤¹à¤• à¤¸à¥‡à¤µà¤¾">Customer Service</a></li>
                            <li><a href="#" data-en="Track Your Order" data-ar="ØªØªØ¨Ø¹ Ø·Ù„Ø¨Ùƒ"
                                    data-hi="à¤…à¤ªà¤¨à¤¾ à¤‘à¤°à¥à¤¡à¤° à¤Ÿà¥à¤°à¥ˆà¤• à¤•à¤°à¥‡à¤‚">Track Your Order</a></li>
                            <li><a href="#" data-en="Returns & Exchanges" data-ar="Ø§Ù„Ø¥Ø±Ø¬Ø§Ø¹ ÙˆØ§Ù„Ø§Ø³ØªØ¨Ø¯Ø§Ù„"
                                    data-hi="à¤µà¤¾à¤ªà¤¸à¥€ à¤”à¤° à¤†à¤¦à¤¾à¤¨-à¤ªà¥à¤°à¤¦à¤¾à¤¨">Returns & Exchanges</a></li>
                            <li><a href="#" data-en="Payment Options" data-ar="Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø¯ÙØ¹"
                                    data-hi="à¤­à¥à¤—à¤¤à¤¾à¤¨ à¤µà¤¿à¤•à¤²à¥à¤ª">Payment Options</a></li>
                        </ul>
                    </div>
                </div>

                <div class="footer-bottom">
                    <p>&copy; 2025 Lumoskart. All rights reserved.</p>
                </div>
            </div>
        </footer>

        <a href="https://api.whatsapp.com/send?phone=918075909735&text=Hello!%20I'm%20interested%20in%20your%20products"
            target="_blank" class="whatsapp-widget" aria-label="Chat with us on WhatsApp"
            data-en="Chat with us on WhatsApp" data-ar="Ø§Ù„Ø¯Ø±Ø¯Ø´Ø© Ù…Ø¹Ù†Ø§ Ø¹Ù„Ù‰ ÙˆØ§ØªØ³Ø§Ø¨" data-hi="à¤¹à¤®à¤¸à¥‡ à¤µà¥à¤¹à¤¾à¤Ÿà¥à¤¸à¤à¤ª à¤ªà¤° à¤¬à¤¾à¤¤ à¤•à¤°à¥‡à¤‚">
            <i class="fab fa-whatsapp"></i>
        </a>

        <!-- Scripts -->
        <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css">

        <script src="{% static 'js/main.js' %}"></script>
        <script>
            // Handle Add to Cart and Buy Now buttons
            document.addEventListener('DOMContentLoaded', function () {
                // Handle language selection
                const languageItems = document.querySelectorAll('.lang-option');
                languageItems.forEach(item => {
                    item.addEventListener('click', function (e) {
                        e.preventDefault();
                        const selectedLang = this.getAttribute('data-lang');

                        // Store selected language in localStorage for entire website
                        localStorage.setItem('preferredLanguage', selectedLang);

                        // Reload the page to apply language changes
                        window.location.reload();
                    });
                });

                // Function to apply language translations
                function applyLanguage(langCode) {
                    // Define translation objects
                    const translations = {
                        'en': {
                            'home': 'Home',
                            'about': 'About',
                            'support': 'Support',
                            'logout': 'Logout',
                            'login': 'Log in',
                            'signup': 'Sign up',
                            'influencerSignup': 'Sign up as an Influencer',
                            'premium': 'Premium',
                            'orderTracking': 'Order Tracking',
                            'searchPlaceholder': 'Search influencers, products...',
                            'clear': 'Clear',
                            'viewAll': 'View All',
                            'showAll': 'Show all',
                            'products': 'Products',
                            'influencers': 'Influencers',
                            'videos': 'Videos',
                            'noProducts': 'No products available.',
                            'noInfluencers': 'No influencers registered yet.',
                            'noReels': 'No Reels Yet',
                            'firstPost': 'Be the first influencer to post!',
                            'buyNow': 'Buy Now',
                            'addToWishlist': 'Add to wishlist',
                            'resultsFor': 'Showing results for',
                            'noResults': 'No results found. Try a different search term.',
                            'discoverProducts': 'Discover Amazing Products',
                            'browseProducts': 'Browse through our curated selection of products promoted by top influencers'
                        },
                        'ar': {
                            'home': 'Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©',
                            'about': 'Ù…Ù† Ù†Ø­Ù†',
                            'support': 'Ø§Ù„Ø¯Ø¹Ù…',
                            'logout': 'ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬',
                            'login': 'ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„',
                            'signup': 'Ø§Ø´ØªØ±Ø§Ùƒ',
                            'influencerSignup': 'Ø§Ù„ØªØ³Ø¬ÙŠÙ„ ÙƒÙ…Ø¤Ø«Ø±',
                            'premium': 'Ù…Ù…ÙŠØ²',
                            'orderTracking': 'ØªØªØ¨Ø¹ Ø§Ù„Ø·Ù„Ø¨',
                            'searchPlaceholder': 'Ø§Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ù…Ø¤Ø«Ø±ÙŠÙ† Ø£Ùˆ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª...',
                            'clear': 'Ù…Ø³Ø­',
                            'viewAll': 'Ø¹Ø±Ø¶ Ø§Ù„ÙƒÙ„',
                            'showAll': 'Ø¹Ø±Ø¶ Ø§Ù„ÙƒÙ„',
                            'products': 'Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª',
                            'influencers': 'Ø§Ù„Ù…Ø¤Ø«Ø±ÙˆÙ†',
                            'videos': 'ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª',
                            'noProducts': 'Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù†ØªØ¬Ø§Øª Ù…ØªØ§Ø­Ø©.',
                            'noInfluencers': 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ø¤Ø«Ø±ÙˆÙ† Ù…Ø³Ø¬Ù„ÙˆÙ† Ø¨Ø¹Ø¯.',
                            'noReels': 'Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù‚Ø§Ø·Ø¹ Ø¨Ø¹Ø¯',
                            'firstPost': 'ÙƒÙ† Ø£ÙˆÙ„ Ù…Ø¤Ø«Ø± ÙŠÙ†Ø´Ø±!',
                            'buyNow': 'Ø§Ø´ØªØ±ÙŠ Ø§Ù„Ø¢Ù†',
                            'addToWishlist': 'Ø£Ø¶Ù Ø¥Ù„Ù‰ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ù…Ù†ÙŠØ§Øª',
                            'resultsFor': 'Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ù„Ù€',
                            'noResults': 'Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬. Ø­Ø§ÙˆÙ„ Ù…ØµØ·Ù„Ø­ Ø¨Ø­Ø« Ù…Ø®ØªÙ„Ù.',
                            'discoverProducts': 'Ø§ÙƒØªØ´Ù Ù…Ù†ØªØ¬Ø§Øª Ø±Ø§Ø¦Ø¹Ø©',
                            'browseProducts': 'ØªØµÙØ­ Ø§Ø®ØªÙŠØ§Ø±Ù†Ø§ Ø§Ù„Ù…Ù†Ø³Ù‚ Ù…Ù† Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…Ù‚Ø¯Ù…Ø© Ù…Ù† Ø§Ù„Ù…Ø¤Ø«Ø±ÙŠÙ† Ø§Ù„Ø±Ø§Ø¦Ø¯ÙŠÙ†'
                        },
                        'hi': {
                            'home': 'à¤¹à¥‹à¤®',
                            'about': 'à¤¹à¤®à¤¾à¤°à¥‡ à¤¬à¤¾à¤°à¥‡ à¤®à¥‡à¤‚',
                            'support': 'à¤¸à¤¹à¤¾à¤¯à¤¤à¤¾',
                            'logout': 'à¤²à¥‰à¤— à¤†à¤‰à¤Ÿ',
                            'login': 'à¤²à¥‰à¤— à¤‡à¤¨ à¤•à¤°à¥‡à¤‚',
                            'signup': 'à¤¸à¤¾à¤‡à¤¨ à¤…à¤ª à¤•à¤°à¥‡à¤‚',
                            'influencerSignup': 'à¤à¤• à¤ªà¥à¤°à¤­à¤¾à¤µà¤• à¤•à¥‡ à¤°à¥‚à¤ª à¤®à¥‡à¤‚ à¤¸à¤¾à¤‡à¤¨ à¤…à¤ª à¤•à¤°à¥‡à¤‚',
                            'premium': 'à¤ªà¥à¤°à¥€à¤®à¤¿à¤¯à¤®',
                            'orderTracking': 'à¤‘à¤°à¥à¤¡à¤° à¤Ÿà¥à¤°à¥ˆà¤•à¤¿à¤‚à¤—',
                            'searchPlaceholder': 'à¤ªà¥à¤°à¤­à¤¾à¤µà¤•à¥‹à¤‚ à¤¯à¤¾ à¤‰à¤¤à¥à¤ªà¤¾à¤¦à¥‹à¤‚ à¤•à¥‹ à¤–à¥‹à¤œà¥‡à¤‚...',
                            'clear': 'à¤¸à¤¾à¤«à¤¼ à¤•à¤°à¥‡à¤‚',
                            'viewAll': 'à¤¸à¤­à¥€ à¤¦à¥‡à¤–à¥‡à¤‚',
                            'showAll': 'à¤¸à¤­à¥€ à¤¦à¤¿à¤–à¤¾à¤à¤‚',
                            'products': 'à¤‰à¤¤à¥à¤ªà¤¾à¤¦',
                            'influencers': 'à¤ªà¥à¤°à¤­à¤¾à¤µà¤•',
                            'videos': 'à¤µà¥€à¤¡à¤¿à¤¯à¥‹',
                            'noProducts': 'à¤•à¥‹à¤ˆ à¤‰à¤¤à¥à¤ªà¤¾à¤¦ à¤‰à¤ªà¤²à¤¬à¥à¤§ à¤¨à¤¹à¥€à¤‚ à¤¹à¥ˆà¥¤',
                            'noInfluencers': 'à¤…à¤­à¥€ à¤¤à¤• à¤•à¥‹à¤ˆ à¤ªà¥à¤°à¤­à¤¾à¤µà¤• à¤ªà¤‚à¤œà¥€à¤•à¥ƒà¤¤ à¤¨à¤¹à¥€à¤‚ à¤¹à¥ˆà¥¤',
                            'noReels': 'à¤…à¤­à¥€ à¤¤à¤• à¤•à¥‹à¤ˆ à¤°à¥€à¤²à¥à¤¸ à¤¨à¤¹à¥€à¤‚',
                            'firstPost': 'à¤ªà¥‹à¤¸à¥à¤Ÿ à¤•à¤°à¤¨à¥‡ à¤µà¤¾à¤²à¥‡ à¤ªà¤¹à¤²à¥‡ à¤ªà¥à¤°à¤­à¤¾à¤µà¤• à¤¬à¤¨à¥‡à¤‚!',
                            'buyNow': 'à¤…à¤­à¥€ à¤–à¤°à¥€à¤¦à¥‡à¤‚',
                            'addToWishlist': 'à¤‡à¤šà¥à¤›à¤¾ à¤¸à¥‚à¤šà¥€ à¤®à¥‡à¤‚ à¤œà¥‹à¤¡à¤¼à¥‡à¤‚',
                            'resultsFor': 'à¤•à¥‡ à¤²à¤¿à¤ à¤ªà¤°à¤¿à¤£à¤¾à¤® à¤¦à¤¿à¤–à¤¾ à¤°à¤¹à¤¾ à¤¹à¥ˆ',
                            'noResults': 'à¤•à¥‹à¤ˆ à¤ªà¤°à¤¿à¤£à¤¾à¤® à¤¨à¤¹à¥€à¤‚ à¤®à¤¿à¤²à¤¾à¥¤ à¤•à¥‹à¤ˆ à¤…à¤²à¤— à¤–à¥‹à¤œ à¤¶à¤¬à¥à¤¦ à¤†à¤œà¤¼à¤®à¤¾à¤à¤‚à¥¤',
                            'discoverProducts': 'à¤¶à¤¾à¤¨à¤¦à¤¾à¤° à¤‰à¤¤à¥à¤ªà¤¾à¤¦ à¤–à¥‹à¤œà¥‡à¤‚',
                            'browseProducts': 'à¤¶à¥€à¤°à¥à¤· à¤ªà¥à¤°à¤­à¤¾à¤µà¤•à¥‹à¤‚ à¤¦à¥à¤µà¤¾à¤°à¤¾ à¤¸à¤‚à¤¸à¥‹à¤°à¥à¤Ÿ à¤•à¤¿à¤ à¤—à¤ à¤‰à¤¤à¥à¤ªà¤¾à¤¦à¥‹à¤‚ à¤•à¥‡ à¤¹à¤®à¤¾à¤°à¥‡ à¤šà¤¯à¤¨à¤¿à¤¤ à¤¸à¤‚à¤—à¥à¤°à¤¹ à¤•à¥‹ à¤¬à¥à¤°à¤¾à¤‰à¤œà¤¼ à¤•à¤°à¥‡à¤‚'
                        }
                    };

                    const lang = translations[langCode] || translations['en'];

                    // Update text content based on language
                    document.querySelectorAll('[data-en]').forEach(element => {
                        const enText = element.getAttribute('data-en');
                        const arText = element.getAttribute('data-ar');
                        const hiText = element.getAttribute('data-hi');

                        // Check if element has a span child with nav-text or btn-text class
                        const spanElement = element.querySelector('.nav-text, .btn-text');

                        if (langCode === 'ar' && arText) {
                            if (spanElement) {
                                spanElement.textContent = arText;
                            } else {
                                element.textContent = arText;
                            }
                        } else if (langCode === 'hi' && hiText) {
                            if (spanElement) {
                                spanElement.textContent = hiText;
                            } else {
                                element.textContent = hiText;
                            }
                        } else if (langCode === 'en' && enText) {
                            if (spanElement) {
                                spanElement.textContent = enText;
                            } else {
                                element.textContent = enText;
                            }
                        }
                    });

                    // Update placeholder text
                    document.querySelectorAll('[data-placeholder-en]').forEach(element => {
                        const enPlaceholder = element.getAttribute('data-placeholder-en');
                        const arPlaceholder = element.getAttribute('data-placeholder-ar');
                        const hiPlaceholder = element.getAttribute('data-placeholder-hi');

                        if (langCode === 'ar' && arPlaceholder) {
                            element.placeholder = arPlaceholder;
                        } else if (langCode === 'hi' && hiPlaceholder) {
                            element.placeholder = hiPlaceholder;
                        } else if (langCode === 'en' && enPlaceholder) {
                            element.placeholder = enPlaceholder;
                        }
                    });

                    // Update title attributes
                    document.querySelectorAll('[data-title-en]').forEach(element => {
                        const enTitle = element.getAttribute('data-title-en');
                        const arTitle = element.getAttribute('data-title-ar');
                        const hiTitle = element.getAttribute('data-title-hi');

                        if (langCode === 'ar' && arTitle) {
                            element.title = arTitle;
                        } else if (langCode === 'hi' && hiTitle) {
                            element.title = hiTitle;
                        } else if (langCode === 'en' && enTitle) {
                            element.title = enTitle;
                        }
                    });
                }

                // Get language from localStorage for entire website or default to 'en'
                const savedLang = localStorage.getItem('preferredLanguage') || 'en';
                applyLanguage(savedLang);

                // Update language selector display
                const langDisplay = document.getElementById('currentLanguage');
                const mobileLangDisplay = document.getElementById('mobileCurrentLanguage');

                if (langDisplay) {
                    if (savedLang === 'ar') langDisplay.textContent = 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©';
                    else if (savedLang === 'hi') langDisplay.textContent = 'à¤¹à¤¿à¤‚à¤¦à¥€';
                    else langDisplay.textContent = 'English';
                }

                if (mobileLangDisplay) {
                    if (savedLang === 'ar') mobileLangDisplay.textContent = 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©';
                    else if (savedLang === 'hi') mobileLangDisplay.textContent = 'à¤¹à¤¿à¤‚à¤¦à¥€';
                    else mobileLangDisplay.textContent = 'English';
                }

                // Handle all button clicks in a single event listener to avoid conflicts
                document.addEventListener('click', function (e) {
                    // Handle Buy Now button on video card first
                    const buyNowBtn = e.target.closest('.buy-now-btn');
                    if (buyNowBtn && !buyNowBtn.classList.contains('disabled')) {
                        // Check if the button already has a URL (updated for influencer products page)
                        if (buyNowBtn.getAttribute('href') && !buyNowBtn.getAttribute('href').startsWith('javascript:')) {
                            // Button has a URL, let it navigate normally
                            return;
                        }

                        e.preventDefault();

                        // Get the video item that contains this button
                        const videoCard = buyNowBtn.closest('.reel-widget-card');
                        if (videoCard) {
                            const videoItem = videoCard.querySelector('.video-shorts-item');
                            if (!videoItem) {
                                alert('Video item not found');
                                return;
                            }
                            const productsData = videoItem.getAttribute('data-video-products');

                            try {
                                const products = JSON.parse(productsData);
                                if (products.length > 0) {
                                    if (products.length === 1) {
                                        // If only one product, go directly to buy now page
                                        const productId = products[0].id;
                                        window.location.href = `/orders/buy-now/${productId}/`;
                                    } else {
                                        // If multiple products, show selection modal
                                        showProductSelectionModal(products);
                                    }
                                } else {
                                    alert('No products available for purchase in this video');
                                }
                            } catch (e) {
                                console.error('Error processing products:', e);
                                alert('Error processing products. Please try again.');
                            }
                        }
                        return; // Exit to prevent other handlers
                    }

                    // Handle Share button on video card
                    if (e.target.closest('.share-btn')) {
                        e.preventDefault();

                        // Get the video item that contains this button
                        const videoCard = e.target.closest('.reel-widget-card');
                        if (videoCard) {
                            const videoItem = videoCard.querySelector('.video-shorts-item');
                            if (!videoItem) {
                                alert('Video item not found');
                                return;
                            }
                            const videoTitle = videoItem.getAttribute('data-video-title');
                            const videoUrl = videoItem.getAttribute('data-video-url');

                            // In a real implementation, you would implement sharing functionality
                            // For now, just show an alert
                            if (navigator.share) {
                                // Web Share API is supported
                                navigator.share({
                                    title: videoTitle,
                                    text: 'Check out this video!',
                                    url: window.location.href
                                }).catch(console.error);
                            } else {
                                // Fallback: copy link to clipboard
                                navigator.clipboard.writeText(window.location.href)
                                    .then(() => {
                                        alert('Video link copied to clipboard!');
                                    })
                                    .catch(err => {
                                        console.error('Failed to copy link: ', err);
                                        alert('Could not copy link. Please try again.');
                                    });
                            }
                        }
                        return; // Exit to prevent other handlers
                    }

                    // Handle non-video add-to-cart clicks
                    if (e.target.closest('.add-to-cart') && !e.target.closest('.reel-widget-card')) {
                        // Redirect to login page when Add to Cart is clicked
                        window.location.href = '{% url "login" %}';
                    }

                    // Handle non-video buy-now clicks
                    if (e.target.closest('.buy-now') && !e.target.closest('.reel-widget-card') && !e.target.closest('.video-shorts-action-btn')) {
                        // Redirect to login page when Buy Now is clicked (not from video cards)
                        window.location.href = '{% url "login" %}';
                    }
                });

                const whatsappButton = document.getElementById('whatsapp-button');
                let isClickAllowed = true;
                const cooldownTime = 2000; // 2 seconds cooldown

                whatsappButton.addEventListener('click', function (event) {
                    if (!isClickAllowed) {
                        event.preventDefault(); // Prevent multiple rapid clicks
                        return;
                    }

                    isClickAllowed = false;
                    setTimeout(function () {
                        isClickAllowed = true; // Re-enable clicks after cooldown
                    }, cooldownTime);

                    // Optional: Log click for debugging
                    console.log('WhatsApp button clicked');
                });

                // Ensure search forms work correctly
                // Desktop search form submission
                const desktopSearchForm = document.querySelector('.desktop-view .search-container form');
                if (desktopSearchForm) {
                    desktopSearchForm.addEventListener('submit', function (e) {
                        const searchInput = this.querySelector('input[name="q"]');
                        if (searchInput && searchInput.value.trim() === '') {
                            e.preventDefault();
                            searchInput.focus();
                            return false;
                        }
                    });
                }

                // Mobile search form submission
                const mobileSearchForm = document.querySelector('#searchOffcanvas form');
                if (mobileSearchForm) {
                    mobileSearchForm.addEventListener('submit', function (e) {
                        const searchInput = this.querySelector('input[name="q"]');
                        if (searchInput && searchInput.value.trim() === '') {
                            e.preventDefault();
                            searchInput.focus();
                            return false;
                        }
                    });
                }

                // Handle Enter key in search inputs
                const searchInputs = document.querySelectorAll('input[name="q"]');
                searchInputs.forEach(input => {
                    input.addEventListener('keypress', function (e) {
                        if (e.key === 'Enter') {
                            const form = this.closest('form');
                            if (form && this.value.trim() !== '') {
                                form.submit();
                            } else if (this.value.trim() === '') {
                                e.preventDefault();
                                this.focus();
                            }
                        }
                    });
                });

                // Video Shorts Player Functionality - Enhanced for Instagram/Facebook-like experience
                const videoItems = document.querySelectorAll('.video-shorts-item');
                const videoPlayer = document.querySelector('.video-shorts-player');
                const videoElement = document.querySelector('.video-shorts-video');
                const videoTitle = document.querySelector('.video-shorts-title');
                const influencerName = document.querySelector('.video-shorts-influencer');
                const videoProducts = document.querySelector('.video-shorts-products');
                const likeCount = document.querySelector('.like-count');
                const videoCloseBtn = document.querySelector('.video-shorts-close');

                // Store all video items and current index
                let allVideoItems = Array.from(videoItems);
                let currentIndex = 0;

                // Open video player when clicking on a video thumbnail
                videoItems.forEach((item, index) => {
                    item.addEventListener('click', function (e) {
                        e.preventDefault();

                        currentIndex = allVideoItems.indexOf(item);

                        loadVideo(currentIndex);

                        // Show player and play video
                        videoPlayer.classList.add('active');
                        document.body.style.overflow = 'hidden'; // Prevent background scroll

                        // Play the video after a short delay to ensure source is loaded
                        setTimeout(() => {
                            videoElement.muted = false; // Enable sound
                            videoElement.play().catch(e => console.log('Auto-play prevented:', e));
                        }, 100);
                    });
                });

                function loadVideo(index) {
                    if (index < 0 || index >= allVideoItems.length) return;

                    const item = allVideoItems[index];
                    const videoUrl = item.getAttribute('data-video-url');
                    const title = item.getAttribute('data-video-title');
                    const influencer = item.getAttribute('data-video-influencer');
                    const likes = item.getAttribute('data-video-likes');
                    const productsData = item.getAttribute('data-video-products');

                    // Set video source and play
                    videoElement.src = videoUrl;
                    videoElement.muted = false; // Enable sound
                    videoTitle.textContent = title;
                    influencerName.textContent = '@' + influencer;
                    likeCount.textContent = likes;

                    // Parse and display products if available
                    try {
                        const products = JSON.parse(productsData);
                        videoProducts.innerHTML = '';
                        if (products.length > 0) {
                            products.forEach(product => {
                                const productEl = document.createElement('div');
                                productEl.className = 'product-tag';
                                productEl.textContent = product.name;
                                videoProducts.appendChild(productEl);
                            });
                        } else {
                            videoProducts.innerHTML = '<p class="text-white small mb-0">No products tagged</p>';
                        }
                    } catch (e) {
                        videoProducts.innerHTML = '<p class="text-white small mb-0">No products tagged</p>';
                    }

                    // Update pagination dots
                    updatePagination();
                }

                function updatePagination() {
                    const paginationDots = document.querySelector('.video-shorts-pagination');
                    if (paginationDots) {
                        paginationDots.innerHTML = '';
                        allVideoItems.forEach((_, i) => {
                            const dot = document.createElement('div');
                            dot.className = 'video-shorts-pagination-dot';
                            if (i === currentIndex) {
                                dot.classList.add('active');
                            }
                            paginationDots.appendChild(dot);
                        });
                    }
                }

                // Navigation between videos
                function goToNextVideo() {
                    if (currentIndex < allVideoItems.length - 1) {
                        currentIndex++;
                        loadVideo(currentIndex);
                        videoElement.muted = false; // Enable sound
                        videoElement.play().catch(e => console.log('Auto-play prevented:', e));
                    }
                }

                function goToPrevVideo() {
                    if (currentIndex > 0) {
                        currentIndex--;
                        loadVideo(currentIndex);
                        videoElement.muted = false; // Enable sound
                        videoElement.play().catch(e => console.log('Auto-play prevented:', e));
                    }
                }

                // Enhanced swipe functionality for video navigation with vertical swipe support
                let touchStartX = 0;
                let touchStartY = 0;
                let touchEndX = 0;
                let touchEndY = 0;

                videoElement.addEventListener('touchstart', function (e) {
                    touchStartX = e.changedTouches[0].screenX;
                    touchStartY = e.changedTouches[0].screenY;
                }, { passive: true });

                videoElement.addEventListener('touchend', function (e) {
                    touchEndX = e.changedTouches[0].screenX;
                    touchEndY = e.changedTouches[0].screenY;
                    handleSwipe();
                }, { passive: true });

                function handleSwipe() {
                    const swipeThreshold = 50;
                    const verticalSwipeThreshold = 30; // Lower threshold for vertical swipes

                    const diffX = touchStartX - touchEndX;
                    const diffY = touchStartY - touchEndY;

                    // Check if it's more of a vertical swipe than horizontal
                    if (Math.abs(diffY) > Math.abs(diffX) && Math.abs(diffY) > verticalSwipeThreshold) {
                        if (diffY > 0) {
                            // Swipe up - go to next video
                            goToNextVideo();
                        } else {
                            // Swipe down - go to previous video
                            goToPrevVideo();
                        }
                    } else if (Math.abs(diffX) > swipeThreshold) {
                        if (diffX > 0) {
                            // Swipe left - go to next video
                            goToNextVideo();
                        } else {
                            // Swipe right - go to previous video
                            goToPrevVideo();
                        }
                    }
                }

                // Keyboard navigation
                document.addEventListener('keydown', function (e) {
                    if (videoPlayer.classList.contains('active')) {
                        if (e.key === 'ArrowRight' || e.key === 'ArrowDown') {
                            goToNextVideo();
                        } else if (e.key === 'ArrowLeft' || e.key === 'ArrowUp') {
                            goToPrevVideo();
                        } else if (e.key === 'Escape') {
                            videoPlayer.classList.remove('active');
                            videoElement.pause();
                            document.body.style.overflow = 'auto'; // Re-enable background scroll
                        } else if (e.key === ' ') { // Spacebar to play/pause
                            e.preventDefault();
                            if (videoElement.paused) {
                                videoElement.play();
                            } else {
                                videoElement.pause();
                            }
                        }
                    }
                });

                // Mouse wheel for navigation - now supports both vertical and horizontal
                videoElement.addEventListener('wheel', function (e) {
                    // Check if shift key is pressed to differentiate horizontal/vertical scrolling
                    if (e.shiftKey) {
                        // Horizontal scroll with shift + wheel
                        if (e.deltaX > 0) {
                            goToNextVideo();
                        } else {
                            goToPrevVideo();
                        }
                    } else {
                        // Vertical scroll with just wheel
                        if (e.deltaY > 0) {
                            // Scroll down - next video
                            goToNextVideo();
                        } else {
                            // Scroll up - previous video
                            goToPrevVideo();
                        }
                    }
                    e.preventDefault();
                }, { passive: false });

                // Close video player
                videoCloseBtn.addEventListener('click', function () {
                    videoPlayer.classList.remove('active');
                    videoElement.pause();
                    document.body.style.overflow = 'auto'; // Re-enable background scroll
                });

                // Close when clicking outside video area
                videoPlayer.addEventListener('click', function (e) {
                    if (e.target === videoPlayer) {
                        videoPlayer.classList.remove('active');
                        videoElement.pause();
                        document.body.style.overflow = 'auto';
                    }
                });

                // Handle Buy Now button in video player
                document.addEventListener('click', function (e) {
                    if (e.target.closest('#video-shorts-buy-btn')) {
                        e.preventDefault();

                        // Get the current video item's product data
                        const currentVideoItem = allVideoItems[currentIndex];
                        if (currentVideoItem) {
                            const productsData = currentVideoItem.getAttribute('data-video-products');
                            try {
                                const products = JSON.parse(productsData);
                                if (products.length > 0) {
                                    // Get the first product for now (you can modify this to handle multiple products)
                                    const productId = products[0].id;

                                    // Redirect to buy now page
                                    window.location.href = `/orders/buy-now/${productId}/`;
                                } else {
                                    alert('No products available for purchase in this video');
                                }
                            } catch (e) {
                                alert('Error processing products');
                            }
                        }
                    }
                });

                // Horizontal Swipe Functionality for Influencer Cards
                const influencersGrid = document.querySelector('.influencers-grid.horizontal');

                if (influencersGrid) {
                    let isDown = false;
                    let startX;
                    let scrollLeft;

                    influencersGrid.addEventListener('mousedown', (e) => {
                        isDown = true;
                        startX = e.pageX - influencersGrid.offsetLeft;
                        scrollLeft = influencersGrid.scrollLeft;
                    });

                    influencersGrid.addEventListener('mouseleave', () => {
                        isDown = false;
                    });

                    influencersGrid.addEventListener('mouseup', () => {
                        isDown = false;
                    });

                    influencersGrid.addEventListener('mousemove', (e) => {
                        if (!isDown) return;
                        e.preventDefault();
                        const x = e.pageX - influencersGrid.offsetLeft;
                        const walk = (x - startX) * 2; //scroll-fast
                        influencersGrid.scrollLeft = scrollLeft - walk;
                    });

                    // Touch events for mobile devices
                    influencersGrid.addEventListener('touchstart', (e) => {
                        isDown = true;
                        startX = e.touches[0].pageX - influencersGrid.offsetLeft;
                        scrollLeft = influencersGrid.scrollLeft;
                    });

                    influencersGrid.addEventListener('touchend', () => {
                        isDown = false;
                    });

                    influencersGrid.addEventListener('touchcancel', () => {
                        isDown = false;
                    });

                    influencersGrid.addEventListener('touchmove', (e) => {
                        if (!isDown) return;
                        e.preventDefault();
                        const x = e.touches[0].pageX - influencersGrid.offsetLeft;
                        const walk = (x - startX) * 2; //scroll-fast
                        influencersGrid.scrollLeft = scrollLeft - walk;
                    });
                }
            });

            // Video Shorts Player Functionality - Enhanced for Instagram/Facebook-like experience
            const videoItems = document.querySelectorAll('.video-shorts-item');
            const videoPlayer = document.querySelector('.video-shorts-player');
            const videoElement = document.querySelector('.video-shorts-video');
            const videoTitle = document.querySelector('.video-shorts-title');
            const influencerName = document.querySelector('.video-shorts-influencer');
            const videoProducts = document.querySelector('.video-shorts-products');
            const likeCount = document.querySelector('.like-count');
            const videoCloseBtn = document.querySelector('.video-shorts-close');
            const videoLikeBtn = document.querySelector('.video-shorts-like');
            const videoShareBtn = document.querySelector('.video-shorts-share');
            const videoBuyBtn = document.querySelector('#video-shorts-buy-btn');
            const videoDescription = document.querySelector('.video-shorts-description');

            // Store all video items and current index
            let allVideoItems = Array.from(videoItems);
            let currentIndex = 0;

            // Open video player when clicking on a video thumbnail
            videoItems.forEach((item, index) => {
                item.addEventListener('click', function (e) {
                    e.preventDefault();

                    currentIndex = allVideoItems.indexOf(item);

                    loadVideo(currentIndex);

                    // Show player and play video
                    videoPlayer.classList.add('active');
                    document.body.style.overflow = 'hidden'; // Prevent background scroll

                    // Play the video after a short delay to ensure source is loaded
                    setTimeout(() => {
                        videoElement.muted = false; // Enable sound
                        videoElement.play().catch(e => console.log('Auto-play prevented:', e));
                    }, 100);
                });
            });

            function loadVideo(index) {
                if (index < 0 || index >= allVideoItems.length) return;

                const item = allVideoItems[index];
                const videoUrl = item.getAttribute('data-video-url');
                const title = item.getAttribute('data-video-title');
                const influencer = item.getAttribute('data-video-influencer');
                const likes = item.getAttribute('data-video-likes');
                const views = item.getAttribute('data-video-views');
                const productsData = item.getAttribute('data-video-products');
                const videoId = item.getAttribute('data-video-id'); // Get video ID for tracking

                // Set video source and play
                videoElement.src = videoUrl;
                videoTitle.textContent = title;
                influencerName.textContent = '@' + influencer;

                // Update like and view counts
                likeCount.textContent = likes;

                // Add video description with views
                if (videoDescription) {
                    videoDescription.textContent = `${likes} likes â€¢ ${views} views`;
                }

                // Update like button state
                updateLikeButtonState(videoId, likes);

                // Increment video view count
                if (videoId) {
                    incrementVideoView(videoId);
                }

                // Parse and display products if available
                try {
                    const products = JSON.parse(productsData);
                    videoProducts.innerHTML = '';
                    if (products.length > 0) {
                        products.forEach(product => {
                            const productPill = document.createElement('a');
                            productPill.className = 'product-tag-pill';
                            productPill.href = `/orders/buy-now/${product.id}/`;
                            productPill.innerHTML = `
                                <img src="${product.image}" alt="${product.name}">
                                ${product.name}
                            `;
                            videoProducts.appendChild(productPill);
                        });
                    } else {
                        videoProducts.innerHTML = '';
                    }
                } catch (e) {
                    videoProducts.innerHTML = '<p class="text-white small mb-0">No products tagged</p>';
                }

                // Update pagination dots
                updatePagination();
            }

            // Function to update like button state based on current video
            function updateLikeButtonState(videoId, currentLikes) {
                // Update the like count in the video player
                if (likeCount) {
                    likeCount.textContent = currentLikes;
                }

                // Update the video description if it exists
                if (videoDescription) {
                    const views = getCurrentVideoViews();
                    videoDescription.textContent = `${currentLikes} likes â€¢ ${views} views`;
                }

                // Update the like button state in the video player
                const likeButtons = document.querySelectorAll('.video-shorts-like');
                likeButtons.forEach(button => {
                    // For now, we'll assume the user hasn't liked the video initially
                    // In a real implementation, we'd check if the user has already liked this video
                    button.classList.remove('liked');
                    button.innerHTML = '<i class="far fa-heart"></i> ' + currentLikes;
                });

                // Update the like count in the main video card
                const currentVideoItem = allVideoItems[currentIndex];
                if (currentVideoItem) {
                    // Update the like count in the data attribute
                    currentVideoItem.setAttribute('data-video-likes', currentLikes);

                    // Update the like count in the reel-action-buttons if it exists
                    const likeButtonInCard = currentVideoItem.querySelector('.btn.like-btn');
                    if (likeButtonInCard) {
                        likeButtonInCard.querySelector('span').textContent = currentLikes;

                        // For now, we'll assume the user hasn't liked the video initially
                        // In a real implementation, we'd check if the user has already liked this video
                        likeButtonInCard.classList.remove('liked');
                        likeButtonInCard.querySelector('i').className = 'far fa-heart';
                    }
                }
            }

            // Function to get current video views
            function getCurrentVideoViews() {
                const currentVideoItem = allVideoItems[currentIndex];
                if (currentVideoItem) {
                    return currentVideoItem.getAttribute('data-video-views') || '0';
                }
                return '0';
            }

            function updatePagination() {
                const paginationDots = document.querySelector('.video-shorts-pagination');
                if (paginationDots) {
                    paginationDots.innerHTML = '';
                    allVideoItems.forEach((_, i) => {
                        const dot = document.createElement('div');
                        dot.className = 'video-shorts-pagination-dot';
                        if (i === currentIndex) {
                            dot.classList.add('active');
                        }
                        // Add click event to pagination dots
                        dot.addEventListener('click', function () {
                            currentIndex = i;
                            loadVideo(currentIndex);
                            videoElement.muted = false; // Enable sound
                            videoElement.play().catch(e => console.log('Auto-play prevented:', e));
                        });
                        paginationDots.appendChild(dot);
                    });
                }
            }

            // Function to increment video view count
            function incrementVideoView(videoId) {
                fetch('/accounts/videos/increment-views/', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-CSRFToken': getCSRFToken(),  // Django CSRF token from hidden input
                    },
                    body: JSON.stringify({
                        'video_id': videoId
                    })
                })
                    .then(response => response.json())
                    .then(data => {
                        if (data.success) {
                            // Update the view count display if needed
                            console.log('View count updated successfully:', data.views);

                            // Update the view count in the video player
                            if (videoDescription) {
                                const likes = likeCount.textContent || '0';
                                videoDescription.textContent = `${likes} likes â€¢ ${data.views} views`;
                            }

                            // Update the view count in the main video card
                            const currentVideoItem = allVideoItems[currentIndex];
                            if (currentVideoItem) {
                                // Update the view count in the data attribute
                                currentVideoItem.setAttribute('data-video-views', data.views);

                                // Update the view count in the reel-views-badge if it exists
                                const viewBadge = currentVideoItem.querySelector('.reel-views-badge');
                                if (viewBadge) {
                                    viewBadge.innerHTML = '<i class="fas fa-eye"></i> ' + data.views;
                                }
                            }
                        } else {
                            console.error('Failed to increment view:', data.error);
                        }
                    })
                    .catch(error => {
                        console.error('Error incrementing video view:', error);
                    });
            }

            // Function to toggle video like
            function toggleVideoLike(videoId) {
                fetch('/accounts/videos/toggle-like/', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-CSRFToken': getCSRFToken(),  // Django CSRF token from hidden input
                    },
                    body: JSON.stringify({
                        'video_id': videoId
                    })
                })
                    .then(response => response.json())
                    .then(data => {
                        if (data.success) {
                            console.log('Like toggled successfully:', data.likes);

                            // Update the like count in the video player
                            if (likeCount) {
                                likeCount.textContent = data.likes;

                                // Update the video description if it exists
                                if (videoDescription) {
                                    const views = getCurrentVideoViews();
                                    videoDescription.textContent = `${data.likes} likes â€¢ ${views} views`;
                                }
                            }

                            // Update the like button state in the video player
                            const likeButtons = document.querySelectorAll('.video-shorts-like');
                            likeButtons.forEach(button => {
                                if (data.user_liked) {
                                    button.classList.add('liked');
                                    button.innerHTML = '<i class="fas fa-heart"></i> ' + data.likes;
                                } else {
                                    button.classList.remove('liked');
                                    button.innerHTML = '<i class="far fa-heart"></i> ' + data.likes;
                                }
                            });

                            // Update the like count in the main video card
                            const currentVideoItem = allVideoItems[currentIndex];
                            if (currentVideoItem) {
                                // Update the like count in the data attribute
                                currentVideoItem.setAttribute('data-video-likes', data.likes);

                                // Update the like count in the reel-action-buttons if it exists
                                const likeButtonInCard = currentVideoItem.querySelector('.btn.like-btn');
                                if (likeButtonInCard) {
                                    likeButtonInCard.querySelector('span').textContent = data.likes;

                                    if (data.user_liked) {
                                        likeButtonInCard.classList.add('liked');
                                        likeButtonInCard.querySelector('i').className = 'fas fa-heart';
                                    } else {
                                        likeButtonInCard.classList.remove('liked');
                                        likeButtonInCard.querySelector('i').className = 'far fa-heart';
                                    }
                                }
                            }

                            // Update the like button state in the main video grid
                            const currentVideoCard = document.querySelector(`.reel-widget-card[data-video-id="${videoId}"]`);
                            if (currentVideoCard) {
                                const gridLikeButton = currentVideoCard.querySelector('.btn.like-btn');
                                if (gridLikeButton) {
                                    gridLikeButton.querySelector('span').textContent = data.likes;

                                    if (data.user_liked) {
                                        gridLikeButton.classList.add('liked');
                                        gridLikeButton.querySelector('i').className = 'fas fa-heart';
                                    } else {
                                        gridLikeButton.classList.remove('liked');
                                        gridLikeButton.querySelector('i').className = 'far fa-heart';
                                    }
                                }
                            }
                        } else {
                            console.error('Failed to toggle like:', data.error);
                        }
                    })
                    .catch(error => {
                        console.error('Error toggling video like:', error);
                    });
            }

            // Helper function to get current video views
            function getCurrentVideoViews() {
                const currentVideoItem = allVideoItems[currentIndex];
                if (currentVideoItem) {
                    return currentVideoItem.getAttribute('data-video-views') || '0';
                }
                return '0';
            }

            // Helper function to get CSRF token
            function getCookie(name) {
                let cookieValue = null;
                if (document.cookie && document.cookie !== '') {
                    const cookies = document.cookie.split(';');
                    for (let i = 0; i < cookies.length; i++) {
                        const cookie = cookies[i].trim();
                        if (cookie.substring(0, name.length + 1) === (name + '=')) {
                            cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                            break;
                        }
                    }
                }
                return cookieValue;
            }

            // Function to get CSRF token - try both cookie and hidden input
            function getCSRFToken() {
                const csrfTokenInput = document.querySelector('[name=csrfmiddlewaretoken]');
                if (csrfTokenInput) {
                    return csrfTokenInput.value;
                }

                // Fallback to cookie
                return getCookie('csrftoken');
            }

            // Navigation between videos
            function goToNextVideo() {
                if (currentIndex < allVideoItems.length - 1) {
                    currentIndex++;
                    loadVideo(currentIndex);
                    videoElement.muted = false; // Enable sound
                    videoElement.play().catch(e => console.log('Auto-play prevented:', e));
                }
            }

            function goToPrevVideo() {
                if (currentIndex > 0) {
                    currentIndex--;
                    loadVideo(currentIndex);
                    videoElement.muted = false; // Enable sound
                    videoElement.play().catch(e => console.log('Auto-play prevented:', e));
                }
            }

            // Enhanced swipe functionality for video navigation with vertical swipe support
            let touchStartX = 0;
            let touchStartY = 0;
            let touchEndX = 0;
            let touchEndY = 0;

            videoElement.addEventListener('touchstart', function (e) {
                touchStartX = e.changedTouches[0].screenX;
                touchStartY = e.changedTouches[0].screenY;
            }, { passive: true });

            videoElement.addEventListener('touchend', function (e) {
                touchEndX = e.changedTouches[0].screenX;
                touchEndY = e.changedTouches[0].screenY;
                handleSwipe();
            }, { passive: true });

            function handleSwipe() {
                const swipeThreshold = 50;
                const verticalSwipeThreshold = 30; // Lower threshold for vertical swipes

                const diffX = touchStartX - touchEndX;
                const diffY = touchStartY - touchEndY;

                // Check if it's more of a vertical swipe than horizontal
                if (Math.abs(diffY) > Math.abs(diffX) && Math.abs(diffY) > verticalSwipeThreshold) {
                    if (diffY > 0) {
                        // Swipe up - go to next video
                        goToNextVideo();
                    } else {
                        // Swipe down - go to previous video
                        goToPrevVideo();
                    }
                } else if (Math.abs(diffX) > swipeThreshold) {
                    if (diffX > 0) {
                        // Swipe left - go to next video
                        goToNextVideo();
                    } else {
                        // Swipe right - go to previous video
                        goToPrevVideo();
                    }
                }
            }

            // Keyboard navigation
            document.addEventListener('keydown', function (e) {
                if (videoPlayer.classList.contains('active')) {
                    if (e.key === 'ArrowRight' || e.key === 'ArrowDown') {
                        goToNextVideo();
                    } else if (e.key === 'ArrowLeft' || e.key === 'ArrowUp') {
                        goToPrevVideo();
                    } else if (e.key === 'Escape') {
                        videoPlayer.classList.remove('active');
                        videoElement.pause();
                        document.body.style.overflow = 'auto'; // Re-enable background scroll
                    } else if (e.key === ' ') { // Spacebar to play/pause
                        e.preventDefault();
                        if (videoElement.paused) {
                            videoElement.muted = false; // Enable sound
                            videoElement.play();
                        } else {
                            videoElement.pause();
                        }
                    }
                }
            });

            // Mouse wheel for navigation - now supports smooth scrolling
            videoElement.addEventListener('wheel', function (e) {
                // Check if shift key is pressed to differentiate horizontal/vertical scrolling
                if (e.shiftKey) {
                    // Horizontal scroll with shift + wheel
                    if (e.deltaX > 0) {
                        goToNextVideo();
                    } else {
                        goToPrevVideo();
                    }
                } else {
                    // Vertical scroll with just wheel
                    if (e.deltaY > 0) {
                        // Scroll down - next video
                        goToNextVideo();
                    } else {
                        // Scroll up - previous video
                        goToPrevVideo();
                    }
                }
                e.preventDefault();
            }, { passive: false });

            // Add smooth transition effect for video changes
            videoElement.addEventListener('loadstart', function () {
                videoElement.style.opacity = '0.5';
            });

            videoElement.addEventListener('canplay', function () {
                videoElement.style.transition = 'opacity 0.3s ease';
                videoElement.style.opacity = '1';
            });

            // Close video player
            videoCloseBtn.addEventListener('click', function () {
                videoPlayer.classList.remove('active');
                videoElement.pause();
                document.body.style.overflow = 'auto'; // Re-enable background scroll
            });

            // Close when clicking outside video area
            videoPlayer.addEventListener('click', function (e) {
                if (e.target === videoPlayer) {
                    videoPlayer.classList.remove('active');
                    videoElement.pause();
                    document.body.style.overflow = 'auto';
                }
            });

            // Handle Buy Now button in video player
            document.addEventListener('click', function (e) {
                if (e.target.closest('#video-shorts-buy-btn')) {
                    e.preventDefault();

                    // Get the current video item's product data
                    const currentVideoItem = allVideoItems[currentIndex];
                    if (currentVideoItem) {
                        const productsData = currentVideoItem.getAttribute('data-video-products');

                        // Get influencer ID from the video element
                        let influencerId = currentVideoItem.getAttribute('data-video-influencer-id');

                        if (influencerId) {
                            // Redirect to influencer products page
                            window.location.href = `/products/influencer/${influencerId}/products/`;
                        } else {
                            // Fallback to the original behavior if we can't get influencer ID
                            try {
                                const products = JSON.parse(productsData);
                                if (products.length > 0) {
                                    // Get the first product for now (you can modify this to handle multiple products)
                                    const productId = products[0].id;

                                    // Redirect to buy now page
                                    window.location.href = `/orders/buy-now/${productId}/`;
                                } else {
                                    alert('No products available for purchase in this video');
                                }
                            } catch (e) {
                                alert('Error processing products');
                            }
                        }
                    }
                }
            });

            // Handle like button functionality
            document.addEventListener('click', function (e) {
                if (e.target.closest('.video-shorts-like')) {
                    e.preventDefault();
                    const likeBtn = e.target.closest('.video-shorts-like');
                    const videoId = getVideoIdForCurrentIndex(); // Get video ID for current index

                    if (videoId) {
                        toggleVideoLike(videoId);
                    }
                }
            });

            // Helper function to get video ID for current index
            function getVideoIdForCurrentIndex() {
                const currentVideoItem = allVideoItems[currentIndex];
                if (currentVideoItem) {
                    return currentVideoItem.getAttribute('data-video-id');
                }
                return null;
            }

            // Handle share button functionality
            document.addEventListener('click', function (e) {
                if (e.target.closest('.video-shorts-share')) {
                    e.preventDefault();
                    // In a real app, this would implement sharing functionality
                    alert('Video sharing would be implemented here');
                }
            });

            // Handle like button in main video grid
            document.addEventListener('click', function (e) {
                if (e.target.closest('.reel-action-buttons .btn')) {
                    e.preventDefault();
                    const likeBtn = e.target.closest('.btn');

                    // Check if this is a like button
                    if (likeBtn.querySelector('i.fa-heart')) {
                        const videoCard = likeBtn.closest('.reel-widget-card');
                        if (videoCard) {
                            const videoId = videoCard.getAttribute('data-video-id');
                            if (videoId) {
                                toggleVideoLike(videoId);
                            }
                        }
                    }
                }
            });

            // Double tap to like functionality for video player
            let tapCount = 0;
            let tapTimer = 0;

            // Touch event listener for mobile devices
            document.addEventListener('touchend', function (e) {
                // Check if touch is on the video in the player
                if (e.target.closest('.video-shorts-video') || e.target.closest('.video-shorts-video-container')) {
                    const videoPlayer = document.querySelector('.video-shorts-video');
                    if (videoPlayer) {
                        // Check if the player is currently visible
                        const player = document.querySelector('.video-shorts-player');
                        if (player && getComputedStyle(player).display !== 'none' && player.style.display !== 'none') {
                            tapCount++;

                            if (tapCount === 1) {
                                tapTimer = setTimeout(function () {
                                    tapCount = 0; // Reset after 300ms if single tap
                                }, 300);
                            } else if (tapCount === 2) {
                                clearTimeout(tapTimer);
                                tapCount = 0;

                                // Double tap detected - trigger like
                                const videoId = getVideoIdForCurrentIndex();
                                if (videoId) {
                                    toggleVideoLike(videoId);

                                    // Show heart animation
                                    showHeartAnimation(e.changedTouches[0]);

                                    // Prevent any default behavior that might pause the video
                                    e.preventDefault();
                                    e.stopPropagation();

                                    // Ensure video keeps playing after double tap
                                    setTimeout(() => {
                                        if (videoPlayer.paused) {
                                            videoPlayer.play().catch(e => console.log('Auto-play prevented:', e));
                                        }
                                    }, 100);
                                }
                            }
                        }
                    }
                }
            });

            // Click event listener for desktop devices
            document.addEventListener('click', function (e) {
                // Check if click is on the video in the player
                if (e.target.closest('.video-shorts-video') || e.target.closest('.video-shorts-video-container')) {
                    const videoPlayer = document.querySelector('.video-shorts-video');
                    if (videoPlayer) {
                        // Check if the player is currently visible
                        const player = document.querySelector('.video-shorts-player');
                        if (player && getComputedStyle(player).display !== 'none' && player.style.display !== 'none') {
                            tapCount++;

                            if (tapCount === 1) {
                                tapTimer = setTimeout(function () {
                                    tapCount = 0; // Reset after 300ms if single tap
                                }, 300);
                            } else if (tapCount === 2) {
                                clearTimeout(tapTimer);
                                tapCount = 0;

                                // Double tap detected - trigger like
                                const videoId = getVideoIdForCurrentIndex();
                                if (videoId) {
                                    toggleVideoLike(videoId);

                                    // Show heart animation
                                    showHeartAnimation(e);

                                    // Prevent any default behavior that might pause the video
                                    e.preventDefault();
                                    e.stopPropagation();

                                    // Ensure video keeps playing after double tap
                                    setTimeout(() => {
                                        if (videoPlayer.paused) {
                                            videoPlayer.play().catch(e => console.log('Auto-play prevented:', e));
                                        }
                                    }, 100);
                                }
                            }
                        }
                    }
                }
            });

            // Function to show heart animation on double tap
            function showHeartAnimation(event) {
                // Remove any existing heart animations
                const existingHearts = document.querySelectorAll('.heart-animation');
                existingHearts.forEach(heart => heart.remove());

                // Create heart animation element
                const heart = document.createElement('div');
                heart.className = 'heart-animation';
                heart.innerHTML = '<i class="fas fa-heart" style="color: #e11d48; font-size: 2rem;"></i>';

                // Position the heart at the tap location
                const videoContainer = document.querySelector('.video-shorts-video-container');
                if (videoContainer) {
                    const rect = videoContainer.getBoundingClientRect();
                    const x = event.clientX - rect.left;
                    const y = event.clientY - rect.top;

                    heart.style.position = 'absolute';
                    heart.style.left = `${x}px`;
                    heart.style.top = `${y}px`;
                    heart.style.transform = 'translate(-50%, -50%)';
                    heart.style.pointerEvents = 'none';
                    heart.style.zIndex = '1000';

                    // Add animation styles
                    heart.style.animation = 'heartPulse 1.5s ease-out';

                    // Make sure video container has relative positioning
                    videoContainer.style.position = 'relative';

                    // Add to video container
                    videoContainer.appendChild(heart);

                    // Remove after animation completes
                    setTimeout(() => {
                        heart.remove();
                    }, 1500);
                }
            }

            // Add CSS for heart animation
            const style = document.createElement('style');
            style.textContent = `
                @keyframes heartPulse {
                    0% {
                        transform: translate(-50%, -50%) scale(0.1);
                        opacity: 1;
                    }
                    50% {
                        transform: translate(-50%, -50%) scale(1.5);
                        opacity: 1;
                    }
                    100% {
                        transform: translate(-50%, -50%) scale(2);
                        opacity: 0;
                    }
                }
                .heart-animation {
                    position: absolute;
                    pointer-events: none;
                    z-index: 1000;
                }
            `;
            document.head.appendChild(style);

            // Function to show product selection modal when multiple products exist
            function showProductSelectionModal(products) {
                // Create modal HTML
                let modalHtml = '<div id="productSelectionModal" class="product-selection-modal">';
                modalHtml += '<div class="product-selection-content">';
                modalHtml += '<div class="product-selection-header">';
                modalHtml += '<h3>Select Product to Purchase</h3>';
                modalHtml += '<span class="product-selection-close">&times;</span>';
                modalHtml += '</div>';
                modalHtml += '<div class="product-selection-body">';

                // Add products to modal
                products.forEach(function (product) {
                    modalHtml += '<div class="product-selection-item" data-product-id="' + product.id + '">';
                    modalHtml += '<div class="product-selection-info">';
                    modalHtml += '<h4>' + product.name + '</h4>';
                    modalHtml += '<p class="product-modal-price" data-price="' + product.price + '" data-currency="' + (product.currency || 'INR') + '">â‚¹' + product.price + '</p>';
                    modalHtml += '</div>';
                    modalHtml += '<button class="btn btn-primary select-product-btn">Select</button>';
                    modalHtml += '</div>';
                });

                modalHtml += '</div>';
                modalHtml += '</div>';
                modalHtml += '</div>';

                // Add modal to page
                document.body.insertAdjacentHTML('beforeend', modalHtml);

                // Add modal styles if not already present
                if (!document.querySelector('#productSelectionModalStyles')) {
                    const modalStyles = document.createElement('style');
                    modalStyles.id = 'productSelectionModalStyles';
                    modalStyles.textContent = ".product-selection-modal {\n                        display: none;\n                        position: fixed;\n                        z-index: 10000;\n                        left: 0;\n                        top: 0;\n                        width: 100%;\n                        height: 100%;\n                        background-color: rgba(0,0,0,0.5);\n                    }\n                    .product-selection-content {\n                        background-color: #fefefe;\n                        margin: 15% auto;\n                        padding: 20px;\n                        border: none;\n                        border-radius: 10px;\n                        width: 80%;\n                        max-width: 500px;\n                        position: relative;\n                    }\n                    .product-selection-header {\n                        display: flex;\n                        justify-content: space-between;\n                        align-items: center;\n                        margin-bottom: 20px;\n                        padding-bottom: 10px;\n                        border-bottom: 1px solid #eee;\n                    }\n                    .product-selection-close {\n                        font-size: 28px;\n                        font-weight: bold;\n                        cursor: pointer;\n                    }\n                    .product-selection-body {\n                        max-height: 400px;\n                        overflow-y: auto;\n                    }\n                    .product-selection-item {\n                        display: flex;\n                        justify-content: space-between;\n                        align-items: center;\n                        padding: 15px;\n                        border: 1px solid #eee;\n                        border-radius: 5px;\n                        margin-bottom: 10px;\n                    }\n                    .product-selection-info h4 {\n                        margin: 0 0 5px 0;\n                        font-size: 16px;\n                    }\n                    .product-selection-info p {\n                        margin: 0;\n                        color: #007bff;\n                        font-weight: bold;\n                    }\n                    .select-product-btn {\n                        background-color: #007bff;\n                        color: white;\n                        border: none;\n                        padding: 8px 16px;\n                        border-radius: 5px;\n                        cursor: pointer;\n                    }\n                    .select-product-btn:hover {\n                        background-color: #0056b3;\n                    }";
                    document.head.appendChild(modalStyles);
                }

                // Show modal
                const modal = document.getElementById('productSelectionModal');
                modal.style.display = 'block';

                // Close modal when clicking the X
                modal.querySelector('.product-selection-close').addEventListener('click', function () {
                    modal.remove();
                });

                // Close modal when clicking outside the content
                window.addEventListener('click', function (event) {
                    if (event.target === modal) {
                        modal.remove();
                    }
                });

                // Handle product selection
                const productItems = modal.querySelectorAll('.product-selection-item');
                productItems.forEach(function (item) {
                    item.querySelector('.select-product-btn').addEventListener('click', function () {
                        const productId = item.getAttribute('data-product-id');
                        // Redirect to buy now page
                        window.location.href = `/orders/buy-now/${productId}/`;
                    });
                });
            }

            // Initialize Swiper for influencers section
            const influencersSwiper = new Swiper('.influencers-swiper', {
                slidesPerView: 'auto',
                spaceBetween: 20,
                centeredSlides: false,
                loop: true,  // Enable looping
                autoplay: {
                    delay: 3000,  // 3 seconds between slides
                    disableOnInteraction: false,  // Keep autoplay after user interaction
                },
                pagination: {
                    el: '.influencers-pagination',
                    clickable: true,
                },
                breakpoints: {
                    320: {
                        slidesPerView: 1.5,
                        spaceBetween: 10
                    },
                    480: {
                        slidesPerView: 2,
                        spaceBetween: 15
                    },
                    768: {
                        slidesPerView: 3,
                        spaceBetween: 20
                    },
                    1024: {
                        slidesPerView: 4,
                        spaceBetween: 20
                    },
                    1200: {
                        slidesPerView: 5,
                        spaceBetween: 20
                    }
                },
                // Enable mousewheel control
                mousewheel: {
                    invert: false,
                    forceToAxis: true
                },
                // Enable keyboard control
                keyboard: {
                    enabled: true,
                    onlyInViewport: true
                }
            });


            // Currency Conversion Functionality
            // Exchange rates (relative to INR)
            const exchangeRates = {
                'INR': 1,        // Indian Rupee
                'AED': 0.31,     // UAE Dirham
                'SGD': 0.017,    // Singapore Dollar
                'PHP': 0.69,     // Philippine Peso
                'USD': 0.012,    // US Dollar
                'EUR': 0.011,    // Euro
                'IDR': 183.33    // Indonesian Rupiah
            };

            // Function to convert prices
            function convertPrice(price, fromCurrency, toCurrency) {
                if (fromCurrency === toCurrency) return price;

                // Convert to INR first, then to target currency
                const inrValue = price / exchangeRates[fromCurrency];
                const convertedValue = inrValue * exchangeRates[toCurrency];
                return convertedValue;
            }

            // Function to format currency with symbol
            function formatCurrency(amount, currency) {
                const symbols = {
                    'INR': 'â‚¹',
                    'AED': 'Ø¯.Ø¥',
                    'SGD': '$',
                    'PHP': 'â‚±',
                    'USD': '$',
                    'EUR': 'â‚¬',
                    'IDR': 'Rp'
                };

                const symbol = symbols[currency] || 'â‚¹';
                // Format with 2 decimal places for most currencies
                if (currency === 'IDR') {
                    // IDR typically doesn't use decimal places
                    return `${symbol}${Math.round(amount).toLocaleString()}`;
                } else {
                    return `${symbol}${amount.toFixed(2).replace(/\d(?=(\d{3})+\.)/g, '$&,')}`;
                }
            }

            // Function to update all prices on the page
            function updatePrices(currency) {
                // Update all elements with price data attribute
                const priceElements = document.querySelectorAll('[data-price]');
                priceElements.forEach(element => {
                    const originalPrice = parseFloat(element.getAttribute('data-price'));
                    const originalCurrency = element.getAttribute('data-currency') || 'INR';

                    if (!isNaN(originalPrice)) {
                        const convertedPrice = convertPrice(originalPrice, originalCurrency, currency);
                        const formattedPrice = formatCurrency(convertedPrice, currency);
                        element.textContent = formattedPrice;

                        // Store the original price data to allow future conversions
                        if (!element.hasAttribute('data-original-price')) {
                            element.setAttribute('data-original-price', originalPrice);
                            element.setAttribute('data-original-currency', originalCurrency);
                        }
                    }
                });
            }

            // Handle currency selection
            const currencyItems = document.querySelectorAll('.currency-option');
            currencyItems.forEach(item => {
                item.addEventListener('click', function (e) {
                    e.preventDefault();
                    const selectedCurrency = this.getAttribute('data-currency');
                    const currencySymbol = this.getAttribute('data-symbol');

                    // Store selected currency in localStorage
                    localStorage.setItem('preferredCurrency', selectedCurrency);

                    // Update language selector display
                    const currencyDisplay = document.getElementById('currentCurrency');
                    const mobileCurrencyDisplay = document.getElementById('mobileCurrentCurrency');

                    if (currencyDisplay) {
                        currencyDisplay.textContent = `${selectedCurrency} (${currencySymbol})`;
                    }

                    if (mobileCurrencyDisplay) {
                        mobileCurrencyDisplay.textContent = `${selectedCurrency} (${currencySymbol})`;
                    }

                    // Update all prices on the page
                    updatePrices(selectedCurrency);
                });
            });

            // Initialize currency on page load
            document.addEventListener('DOMContentLoaded', function () {
                // Get currency from localStorage or default to 'INR'
                const savedCurrency = localStorage.getItem('preferredCurrency') || 'INR';

                // Update currency selector display
                const currencyDisplay = document.getElementById('currentCurrency');
                const mobileCurrencyDisplay = document.getElementById('mobileCurrentCurrency');

                if (currencyDisplay) {
                    const symbols = {
                        'INR': 'â‚¹', 'AED': 'Ø¯.Ø¥', 'SGD': '$', 'PHP': 'â‚±',
                        'USD': '$', 'EUR': 'â‚¬', 'IDR': 'Rp'
                    };
                    const symbol = symbols[savedCurrency] || 'â‚¹';
                    currencyDisplay.textContent = `${savedCurrency} (${symbol})`;
                }

                if (mobileCurrencyDisplay) {
                    const symbols = {
                        'INR': 'â‚¹', 'AED': 'Ø¯.Ø¥', 'SGD': '$', 'PHP': 'â‚±',
                        'USD': '$', 'EUR': 'â‚¬', 'IDR': 'Rp'
                    };
                    const symbol = symbols[savedCurrency] || 'â‚¹';
                    mobileCurrencyDisplay.textContent = `${savedCurrency} (${symbol})`;
                }

                // Update all prices on the page
                updatePrices(savedCurrency);
            });

            // Marquee animation for categories grid
            document.addEventListener('DOMContentLoaded', function () {
                const categoriesGrid = document.querySelector('.categories-grid');

                if (categoriesGrid) {
                    // Add hover effect to pause animation
                    categoriesGrid.addEventListener('mouseenter', function () {
                        this.style.animationPlayState = 'paused';
                    });

                    categoriesGrid.addEventListener('mouseleave', function () {
                        this.style.animationPlayState = 'running';
                    });
                }
            });

            // Ensure CSRF token is available
            document.addEventListener('DOMContentLoaded', function () {
                // Make sure the CSRF token is available for AJAX requests
                if (document.querySelector('[name=csrfmiddlewaretoken]')) {
                    // CSRF token already exists in the page
                }
            });
        </script>

        <!-- Hidden CSRF Token for AJAX requests -->
        {% csrf_token %}

</body>

</html>
